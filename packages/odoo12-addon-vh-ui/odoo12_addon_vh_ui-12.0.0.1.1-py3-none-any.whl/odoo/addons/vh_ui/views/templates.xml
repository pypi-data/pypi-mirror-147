<odoo>
  <data>
    <!-- Inherit invoice report (from module account) -->
    <template id="report_invoice_document_inherit" inherit_id="account.report_invoice_document">
      <!-- Add Receipt header when using a certain diari -->
      <xpath expr="//h2" position="replace">
        <h2>
          <t t-if="o.journal_xml_ref == 'account_journal_vh_receipts'">
            <span t-if="o.type == 'out_refund'">Receipt Credit Note</span>
            <span t-else="">Receipt</span>
          </t>
          <t t-else="">
            <span t-if="o.type == 'out_invoice' and o.state in ('open', 'in_payment', 'paid')">Invoice</span>
            <span t-if="o.type == 'out_invoice' and o.state == 'draft'">Draft Invoice</span>
            <span t-if="o.type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</span>
            <span t-if="o.type == 'out_refund'">Credit Note</span>
            <span t-if="o.type == 'in_refund'">Vendor Credit Note</span>
            <span t-if="o.type == 'in_invoice'">Vendor Bill</span>
          </t>
          <span t-field="o.number"/>
        </h2>
      </xpath>
      <!-- Remove Source field from invoice -->
      <xpath expr="//div[@class='page']//div[@class='row mt32 mb32']//div[4]" position="replace">
      </xpath>
      <!-- Change taxes label on document -->
      <xpath expr="//table[@name='invoice_line_table']//thead//tr//th[6]" position="replace">
        <th name="th_taxes" t-attf-class="text-left {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}"><span>Taxes</span></th>
      </xpath>
      <!-- Change taxes label on document -->
      <xpath expr="//table[@name='invoice_line_table']//tbody//tr[1]//td[6]" position="replace">
        <td t-attf-class="text-left {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
          <span t-esc="', '.join(map(lambda x: (x.name), line.invoice_line_tax_ids))"/>
        </td>
      </xpath>
      <!-- Comment style -->
      <xpath expr="//p[@t-if='o.comment']" position="replace">
        <p t-if="o.comment" style="font-size:14px;margin-top:20px;">
          <strong>Terms and Conditions:</strong>
          <span t-field="o.comment"/>
        </p>
      </xpath>
      <!-- Remove Reference -->
      <xpath expr="//p[@t-if='o.reference']" position="replace"></xpath>
    </template>
    <template id="report_invoice_payment_mode_inherit" inherit_id="account_payment_partner.report_invoice_payment_mode">
      <!-- Payment mode style -->
      <xpath expr="//p[@t-if='o.payment_mode_id.note']" position="replace">
        <p t-if="o.payment_mode_id.note" style="font-size:14px;">
          <strong>Payment Mode:</strong>
          <span t-field="o.payment_mode_id.note"/>
        </p>
      </xpath>
      <!-- Bank account style -->
      <!-- table[@name='invoice_line_table']//tbody//tr[1]//td[6] -->
      <xpath expr="//p[@t-foreach='o.partner_banks_to_show()']" position="replace">
        <p t-foreach="o.partner_banks_to_show()" t-as="partner_bank" style="font-size:14px;">
            <strong>Bank Account:</strong>
            <t t-if="partner_bank.bank_id">
                <t t-esc="partner_bank.bank_id.name + ('' if not partner_bank.bank_id.bic else ' (' + partner_bank.bank_id.bic + ')')"/>
            </t>
            <t t-if="o.payment_mode_id.show_bank_account == 'full'">
                <span t-field="partner_bank.acc_number"/>
            </t>
            <t t-elif="o.payment_mode_id.show_bank_account == 'first'">
                <span t-esc="partner_bank.acc_number[:o.payment_mode_id.show_bank_account_chars] + '*' * (len(partner_bank.acc_number) - o.payment_mode_id.show_bank_account_chars)"/>
            </t>
            <t t-elif="o.payment_mode_id.show_bank_account == 'last'">
                <span t-esc="'*' * (len(partner_bank.acc_number) - o.payment_mode_id.show_bank_account_chars) + partner_bank.acc_number[-o.payment_mode_id.show_bank_account_chars:]"/>
            </t>
        </p>
      </xpath>
      
    </template>
  </data>
</odoo>
