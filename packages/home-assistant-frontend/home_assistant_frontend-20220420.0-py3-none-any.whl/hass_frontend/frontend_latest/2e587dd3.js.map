{"version":3,"file":"2e587dd3.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA;AAoEA;;AApEA;;;;;;;;ACGA;;;;;;;;ACHA;;;;ACEA;;ACiCA;AACA;;AAEA;;AApCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;ACqBA;;AAGA;AACA;AACA;;AAEA;AAGA;;AAEA;;;AAGA;;AAGA;AACA;;;;AAIA;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA7CA;;ACoCA;;;AAKA;;AAGA;;;;;;;AAUA;AACA;AAKA;;;;;;AAMA;;;;;AAOA;;;AAKA;AACA;AACA;;;;;AAKA;;;;;AAOA;;;AAKA;AACA;AACA;;;AAGA;;;;;;;AASA;;;;AAMA;;AAIA;;;;;;AAQA;AACA;AACA;;;;AAIA;;AAIA;;;;;;AAQA;AACA;AACA;;;;;;;AAOA;;;;;AAOA;;;;;;AAQA;;;AAKA;AACA;AACA;;;;;AAKA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA3KA;;;ACKA;;AAGA;;;;;AAQA;AAGA;AACA;AACA;;;;AAIA;AACA;;;;;;;;;;;AArCA;;;;;;;;;;;;;;;;;;;;;;;;;;ACmCA","sources":["webpack://home-assistant-frontend/./src/components/ha-card.ts","webpack://home-assistant-frontend/./src/components/ha-formfield.ts","webpack://home-assistant-frontend/./src/components/ha-input-helper-text.ts","webpack://home-assistant-frontend/./src/components/ha-radio.ts","webpack://home-assistant-frontend/./src/components/ha-textfield.ts","webpack://home-assistant-frontend/./src/layouts/hass-subpage.ts","webpack://home-assistant-frontend/./src/panels/config/core/ha-config-core-form.ts","webpack://home-assistant-frontend/./src/panels/config/core/ha-config-name-form.ts","webpack://home-assistant-frontend/./src/panels/config/core/ha-config-core.js"],"sourcesContent":["import { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\n\n@customElement(\"ha-card\")\nexport class HaCard extends LitElement {\n  @property() public header?: string;\n\n  @property({ type: Boolean, reflect: true }) public outlined = false;\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 4px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n          0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n          0px 1px 3px 0px rgba(0, 0, 0, 0.12)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      :host([outlined]) {\n        box-shadow: none;\n        border-width: var(--ha-card-border-width, 1px);\n        border-style: solid;\n        border-color: var(\n          --ha-card-border-color,\n          var(--divider-color, #e0e0e0)\n        );\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 48px;\n        padding: 12px 16px 16px;\n        display: block;\n        margin-block-start: 0px;\n        margin-block-end: 0px;\n        font-weight: normal;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid var(--divider-color, #e8e8e8);\n        padding: 5px 16px;\n      }\n    `;\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.header\n        ? html`<h1 class=\"card-header\">${this.header}</h1>`\n        : html``}\n      <slot></slot>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-card\": HaCard;\n  }\n}\n","import { FormfieldBase } from \"@material/mwc-formfield/mwc-formfield-base\";\nimport { styles } from \"@material/mwc-formfield/mwc-formfield.css\";\nimport { css } from \"lit\";\nimport { customElement } from \"lit/decorators\";\nimport { fireEvent } from \"../common/dom/fire_event\";\n\n@customElement(\"ha-formfield\")\nexport class HaFormfield extends FormfieldBase {\n  protected _labelClick() {\n    const input = this.input;\n    if (input) {\n      input.focus();\n      switch (input.tagName) {\n        case \"HA-CHECKBOX\":\n        case \"HA-RADIO\":\n          (input as any).checked = !(input as any).checked;\n          fireEvent(input, \"change\");\n          break;\n        default:\n          input.click();\n          break;\n      }\n    }\n  }\n\n  static override styles = [\n    styles,\n    css`\n      :host(:not([alignEnd])) ::slotted(ha-switch) {\n        margin-right: 10px;\n      }\n      :host([dir=\"rtl\"]:not([alignEnd])) ::slotted(ha-switch) {\n        margin-left: 10px;\n        margin-right: auto;\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-formfield\": HaFormfield;\n  }\n}\n","import { css, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-input-helper-text\")\nclass InputHelperText extends LitElement {\n  protected render(): TemplateResult {\n    return html`<slot></slot>`;\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n      color: var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6));\n      font-size: 0.75rem;\n      padding-left: 16px;\n      padding-right: 16px;\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-input-helper-text\": InputHelperText;\n  }\n}\n","import { RadioBase } from \"@material/mwc-radio/mwc-radio-base\";\nimport { styles } from \"@material/mwc-radio/mwc-radio.css\";\nimport { css } from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-radio\")\nexport class HaRadio extends RadioBase {\n  static override styles = [\n    styles,\n    css`\n      :host {\n        --mdc-theme-secondary: var(--primary-color);\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-radio\": HaRadio;\n  }\n}\n","import { TextFieldBase } from \"@material/mwc-textfield/mwc-textfield-base\";\nimport { styles } from \"@material/mwc-textfield/mwc-textfield.css\";\nimport { TemplateResult, html, PropertyValues, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\n\n@customElement(\"ha-textfield\")\nexport class HaTextField extends TextFieldBase {\n  @property({ type: Boolean }) public invalid?: boolean;\n\n  @property({ attribute: \"error-message\" }) public errorMessage?: string;\n\n  // @ts-ignore\n  @property({ type: Boolean }) public icon?: boolean;\n\n  // @ts-ignore\n  @property({ type: Boolean }) public iconTrailing?: boolean;\n\n  override updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (\n      (changedProperties.has(\"invalid\") &&\n        (this.invalid || changedProperties.get(\"invalid\") !== undefined)) ||\n      changedProperties.has(\"errorMessage\")\n    ) {\n      this.setCustomValidity(\n        this.invalid ? this.errorMessage || \"Invalid\" : \"\"\n      );\n      this.reportValidity();\n    }\n  }\n\n  protected override renderIcon(\n    _icon: string,\n    isTrailingIcon = false\n  ): TemplateResult {\n    const type = isTrailingIcon ? \"trailing\" : \"leading\";\n\n    return html`\n      <span\n        class=\"mdc-text-field__icon mdc-text-field__icon--${type}\"\n        tabindex=${isTrailingIcon ? 1 : -1}\n      >\n        <slot name=\"${type}Icon\"></slot>\n      </span>\n    `;\n  }\n\n  static override styles = [\n    styles,\n    css`\n      .mdc-text-field__input {\n        width: var(--ha-textfield-input-width, 100%);\n      }\n      .mdc-text-field:not(.mdc-text-field--with-leading-icon) {\n        padding: var(--text-field-padding, 0px 16px);\n      }\n      .mdc-text-field__affix--suffix {\n        padding-left: var(--text-field-suffix-padding-left, 12px);\n        padding-right: var(--text-field-suffix-padding-right, 0px);\n      }\n\n      .mdc-text-field:not(.mdc-text-field--disabled)\n        .mdc-text-field__affix--suffix {\n        color: var(--secondary-text-color);\n      }\n\n      .mdc-text-field__icon {\n        color: var(--secondary-text-color);\n      }\n\n      input {\n        text-align: var(--text-field-text-align);\n      }\n\n      /* Chrome, Safari, Edge, Opera */\n      :host([no-spinner]) input::-webkit-outer-spin-button,\n      :host([no-spinner]) input::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n      }\n\n      /* Firefox */\n      :host([no-spinner]) input[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n\n      .mdc-text-field__ripple {\n        overflow: hidden;\n      }\n\n      .mdc-text-field {\n        overflow: var(--text-field-overflow);\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-textfield\": HaTextField;\n  }\n}\n","import { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, eventOptions, property } from \"lit/decorators\";\nimport { restoreScroll } from \"../common/decorators/restore-scroll\";\nimport \"../components/ha-icon-button-arrow-prev\";\nimport \"../components/ha-menu-button\";\nimport { HomeAssistant } from \"../types\";\n\n@customElement(\"hass-subpage\")\nclass HassSubpage extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() public header?: string;\n\n  @property({ type: Boolean, attribute: \"main-page\" }) public mainPage = false;\n\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n\n  @property({ type: Boolean }) public supervisor = false;\n\n  // @ts-ignore\n  @restoreScroll(\".content\") private _savedScrollPos?: number;\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"toolbar\">\n        ${this.mainPage || history.state?.root\n          ? html`\n              <ha-menu-button\n                .hassio=${this.supervisor}\n                .hass=${this.hass}\n                .narrow=${this.narrow}\n              ></ha-menu-button>\n            `\n          : this.backPath\n          ? html`\n              <a href=${this.backPath}>\n                <ha-icon-button-arrow-prev\n                  .hass=${this.hass}\n                ></ha-icon-button-arrow-prev>\n              </a>\n            `\n          : html`\n              <ha-icon-button-arrow-prev\n                .hass=${this.hass}\n                @click=${this._backTapped}\n              ></ha-icon-button-arrow-prev>\n            `}\n\n        <div class=\"main-title\">${this.header}</div>\n        <slot name=\"toolbar-icon\"></slot>\n      </div>\n      <div class=\"content\" @scroll=${this._saveScrollPos}><slot></slot></div>\n    `;\n  }\n\n  @eventOptions({ passive: true })\n  private _saveScrollPos(e: Event) {\n    this._savedScrollPos = (e.target as HTMLDivElement).scrollTop;\n  }\n\n  private _backTapped(): void {\n    history.back();\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      :host([narrow]) {\n        width: 100%;\n        position: fixed;\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: var(--header-height);\n        padding: 0 16px;\n        pointer-events: none;\n        background-color: var(--app-header-background-color);\n        font-weight: 400;\n        color: var(--app-header-text-color, white);\n        border-bottom: var(--app-header-border-bottom, none);\n        box-sizing: border-box;\n      }\n      .toolbar a {\n        color: var(--sidebar-text-color);\n        text-decoration: none;\n      }\n\n      ha-menu-button,\n      ha-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        pointer-events: auto;\n      }\n\n      .main-title {\n        margin: 0 0 0 24px;\n        line-height: 20px;\n        flex-grow: 1;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 1px - var(--header-height));\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-subpage\": HassSubpage;\n  }\n}\n","import \"@material/mwc-button/mwc-button\";\nimport \"@polymer/paper-input/paper-input\";\nimport type { PaperInputElement } from \"@polymer/paper-input/paper-input\";\nimport { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { UNIT_C } from \"../../../common/const\";\nimport { createCurrencyListEl } from \"../../../components/currency-datalist\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/map/ha-locations-editor\";\nimport type { MarkerLocation } from \"../../../components/map/ha-locations-editor\";\nimport { createTimezoneListEl } from \"../../../components/timezone-datalist\";\nimport { ConfigUpdateValues, saveCoreConfig } from \"../../../data/core\";\nimport { SYMBOL_TO_ISO } from \"../../../data/currency\";\nimport type { PolymerChangedEvent } from \"../../../polymer-types\";\nimport type { HomeAssistant } from \"../../../types\";\nimport \"../../../components/ha-formfield\";\nimport \"../../../components/ha-radio\";\nimport type { HaRadio } from \"../../../components/ha-radio\";\n\n@customElement(\"ha-config-core-form\")\nclass ConfigCoreForm extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _working = false;\n\n  @state() private _location?: [number, number];\n\n  @state() private _currency?: string;\n\n  @state() private _elevation?: string;\n\n  @state() private _unitSystem?: ConfigUpdateValues[\"unit_system\"];\n\n  @state() private _timeZone?: string;\n\n  protected render(): TemplateResult {\n    const canEdit = [\"storage\", \"default\"].includes(\n      this.hass.config.config_source\n    );\n    const disabled = this._working || !canEdit;\n\n    return html`\n      <ha-card\n        .header=${this.hass.localize(\n          \"ui.panel.config.core.section.core.form.heading\"\n        )}\n      >\n        <div class=\"card-content\">\n          ${!canEdit\n            ? html`\n                <p>\n                  ${this.hass.localize(\n                    \"ui.panel.config.core.section.core.core_config.edit_requires_storage\"\n                  )}\n                </p>\n              `\n            : \"\"}\n\n          <div class=\"row\">\n            <ha-locations-editor\n              class=\"flex\"\n              .hass=${this.hass}\n              .locations=${this._markerLocation(\n                this.hass.config.latitude,\n                this.hass.config.longitude,\n                this._location\n              )}\n              @location-updated=${this._locationChanged}\n            ></ha-locations-editor>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"flex\">\n              ${this.hass.localize(\n                \"ui.panel.config.core.section.core.core_config.time_zone\"\n              )}\n            </div>\n\n            <paper-input\n              class=\"flex\"\n              .label=${this.hass.localize(\n                \"ui.panel.config.core.section.core.core_config.time_zone\"\n              )}\n              name=\"timeZone\"\n              list=\"timezones\"\n              .disabled=${disabled}\n              .value=${this._timeZoneValue}\n              @value-changed=${this._handleChange}\n            ></paper-input>\n          </div>\n          <div class=\"row\">\n            <div class=\"flex\">\n              ${this.hass.localize(\n                \"ui.panel.config.core.section.core.core_config.elevation\"\n              )}\n            </div>\n\n            <paper-input\n              class=\"flex\"\n              .label=${this.hass.localize(\n                \"ui.panel.config.core.section.core.core_config.elevation\"\n              )}\n              name=\"elevation\"\n              type=\"number\"\n              .disabled=${disabled}\n              .value=${this._elevationValue}\n              @value-changed=${this._handleChange}\n            >\n              <span slot=\"suffix\">\n                ${this.hass.localize(\n                  \"ui.panel.config.core.section.core.core_config.elevation_meters\"\n                )}\n              </span>\n            </paper-input>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"flex\">\n              ${this.hass.localize(\n                \"ui.panel.config.core.section.core.core_config.unit_system\"\n              )}\n            </div>\n            <div class=\"radio-group\">\n              <ha-formfield\n                .label=${html`${this.hass.localize(\n                    \"ui.panel.config.core.section.core.core_config.unit_system_metric\"\n                  )}\n                  <div class=\"secondary\">\n                    ${this.hass.localize(\n                      \"ui.panel.config.core.section.core.core_config.metric_example\"\n                    )}\n                  </div>`}\n              >\n                <ha-radio\n                  name=\"unit_system\"\n                  value=\"metric\"\n                  .checked=${this._unitSystemValue === \"metric\"}\n                  @change=${this._unitSystemChanged}\n                  .disabled=${this._working}\n                ></ha-radio>\n              </ha-formfield>\n              <ha-formfield\n                .label=${html`${this.hass.localize(\n                    \"ui.panel.config.core.section.core.core_config.unit_system_imperial\"\n                  )}\n                  <div class=\"secondary\">\n                    ${this.hass.localize(\n                      \"ui.panel.config.core.section.core.core_config.imperial_example\"\n                    )}\n                  </div>`}\n              >\n                <ha-radio\n                  name=\"unit_system\"\n                  value=\"imperial\"\n                  .checked=${this._unitSystemValue === \"imperial\"}\n                  @change=${this._unitSystemChanged}\n                  .disabled=${this._working}\n                ></ha-radio>\n              </ha-formfield>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"flex\">\n              ${this.hass.localize(\n                \"ui.panel.config.core.section.core.core_config.currency\"\n              )}<br />\n              <a\n                href=\"https://en.wikipedia.org/wiki/ISO_4217#Active_codes\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                >${this.hass.localize(\n                  \"ui.panel.config.core.section.core.core_config.find_currency_value\"\n                )}</a\n              >\n            </div>\n\n            <paper-input\n              class=\"flex\"\n              .label=${this.hass.localize(\n                \"ui.panel.config.core.section.core.core_config.currency\"\n              )}\n              name=\"currency\"\n              list=\"currencies\"\n              .disabled=${disabled}\n              .value=${this._currencyValue}\n              @value-changed=${this._handleChange}\n            ></paper-input>\n          </div>\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._save} .disabled=${disabled}>\n            ${this.hass.localize(\n              \"ui.panel.config.core.section.core.core_config.save_button\"\n            )}\n          </mwc-button>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  protected firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n\n    const tzInput = this.shadowRoot!.querySelector(\n      \"[name=timeZone]\"\n    ) as PaperInputElement;\n    tzInput.inputElement.appendChild(createTimezoneListEl());\n\n    const cInput = this.shadowRoot!.querySelector(\n      \"[name=currency]\"\n    ) as PaperInputElement;\n    cInput.inputElement.appendChild(createCurrencyListEl());\n  }\n\n  private _markerLocation = memoizeOne(\n    (\n      lat: number,\n      lng: number,\n      location?: [number, number]\n    ): MarkerLocation[] => [\n      {\n        id: \"location\",\n        latitude: location ? location[0] : lat,\n        longitude: location ? location[1] : lng,\n        location_editable: true,\n      },\n    ]\n  );\n\n  private get _currencyValue() {\n    return this._currency !== undefined\n      ? this._currency\n      : this.hass.config.currency;\n  }\n\n  private get _elevationValue() {\n    return this._elevation !== undefined\n      ? this._elevation\n      : this.hass.config.elevation;\n  }\n\n  private get _timeZoneValue() {\n    return this._timeZone !== undefined\n      ? this._timeZone\n      : this.hass.config.time_zone;\n  }\n\n  private get _unitSystemValue() {\n    return this._unitSystem !== undefined\n      ? this._unitSystem\n      : this.hass.config.unit_system.temperature === UNIT_C\n      ? \"metric\"\n      : \"imperial\";\n  }\n\n  private _handleChange(ev: PolymerChangedEvent<string>) {\n    const target = ev.currentTarget as PaperInputElement;\n    let value = target.value;\n\n    if (target.name === \"currency\" && value) {\n      if (value in SYMBOL_TO_ISO) {\n        value = SYMBOL_TO_ISO[value];\n      }\n    }\n\n    this[`_${target.name}`] = value;\n  }\n\n  private _locationChanged(ev) {\n    this._location = ev.detail.location;\n  }\n\n  private _unitSystemChanged(ev: CustomEvent) {\n    this._unitSystem = (ev.target as HaRadio).value as \"metric\" | \"imperial\";\n  }\n\n  private async _save() {\n    this._working = true;\n    try {\n      const location = this._location || [\n        this.hass.config.latitude,\n        this.hass.config.longitude,\n      ];\n      await saveCoreConfig(this.hass, {\n        latitude: location[0],\n        longitude: location[1],\n        currency: this._currencyValue,\n        elevation: Number(this._elevationValue),\n        unit_system: this._unitSystemValue,\n        time_zone: this._timeZoneValue,\n      });\n    } catch (err: any) {\n      alert(`Error saving config: ${err.message}`);\n    } finally {\n      this._working = false;\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      .row {\n        display: flex;\n        flex-direction: row;\n        margin: 0 -8px;\n        align-items: center;\n      }\n\n      .secondary {\n        color: var(--secondary-text-color);\n      }\n\n      .flex {\n        flex: 1;\n      }\n\n      .row > * {\n        margin: 0 8px;\n      }\n\n      .radio-group {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n      }\n\n      .card-actions {\n        text-align: right;\n      }\n\n      a {\n        color: var(--primary-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-config-core-form\": ConfigCoreForm;\n  }\n}\n","import \"@material/mwc-button/mwc-button\";\nimport { css, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport \"../../../components/ha-card\";\nimport { ConfigUpdateValues, saveCoreConfig } from \"../../../data/core\";\nimport type { HomeAssistant } from \"../../../types\";\nimport \"../../../components/ha-textfield\";\nimport type { HaTextField } from \"../../../components/ha-textfield\";\n\n@customElement(\"ha-config-name-form\")\nclass ConfigNameForm extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _working = false;\n\n  @state() private _name!: ConfigUpdateValues[\"location_name\"];\n\n  protected render(): TemplateResult {\n    const canEdit = [\"storage\", \"default\"].includes(\n      this.hass.config.config_source\n    );\n    const disabled = this._working || !canEdit;\n\n    return html`\n      <ha-card>\n        <div class=\"card-content\">\n          ${!canEdit\n            ? html`\n                <p>\n                  ${this.hass.localize(\n                    \"ui.panel.config.core.section.core.core_config.edit_requires_storage\"\n                  )}\n                </p>\n              `\n            : \"\"}\n          <ha-textfield\n            class=\"flex\"\n            .label=${this.hass.localize(\n              \"ui.panel.config.core.section.core.core_config.location_name\"\n            )}\n            .disabled=${disabled}\n            .value=${this._nameValue}\n            @change=${this._handleChange}\n          ></ha-textfield>\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._save} .disabled=${disabled}>\n            ${this.hass.localize(\n              \"ui.panel.config.core.section.core.core_config.save_button\"\n            )}\n          </mwc-button>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  private get _nameValue() {\n    return this._name !== undefined\n      ? this._name\n      : this.hass.config.location_name;\n  }\n\n  private _handleChange(ev) {\n    const target = ev.currentTarget as HaTextField;\n    this._name = target.value;\n  }\n\n  private async _save() {\n    this._working = true;\n    try {\n      await saveCoreConfig(this.hass, {\n        location_name: this._nameValue,\n      });\n    } catch (err: any) {\n      alert(\"FAIL\");\n    } finally {\n      this._working = false;\n    }\n  }\n\n  static get styles() {\n    return css`\n      .card-actions {\n        text-align: right;\n      }\n      ha-textfield {\n        display: block;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-config-name-form\": ConfigNameForm;\n  }\n}\n","import \"@polymer/app-layout/app-header/app-header\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\n/* eslint-plugin-disable lit */\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport \"../../../layouts/hass-subpage\";\nimport LocalizeMixin from \"../../../mixins/localize-mixin\";\nimport \"../../../styles/polymer-ha-style\";\nimport \"./ha-config-core-form\";\nimport \"./ha-config-name-form\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaConfigCore extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding: 28px 20px 0;\n          max-width: 1040px;\n          margin: 0 auto;\n        }\n\n        ha-config-name-form,\n        ha-config-core-form {\n          display: block;\n          margin-top: 24px;\n        }\n      </style>\n\n      <hass-subpage\n        hass=\"[[hass]]\"\n        narrow=\"[[narrow]]\"\n        header=\"[[localize('ui.panel.config.core.caption')]]\"\n        back-path=\"/config/system\"\n      >\n        <div class=\"content\">\n          <ha-config-name-form hass=\"[[hass]]\"></ha-config-name-form>\n          <ha-config-core-form hass=\"[[hass]]\"></ha-config-core-form>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      isWide: Boolean,\n      narrow: Boolean,\n      showAdvanced: Boolean,\n      route: Object,\n    };\n  }\n}\n\ncustomElements.define(\"ha-config-core\", HaConfigCore);\n"],"names":[],"sourceRoot":""}