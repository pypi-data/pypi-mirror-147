<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CSVs and Tabular Data &mdash; linkml  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python" href="python.html" />
    <link rel="prev" title="Working with RDF and LinkML" href="rdf.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> linkml
            <img src="https://linkml.io/uploads/linkml-logo_color.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/overview.html">LinkML at a glance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/install.html">Quick Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schemas/index.html">LinkML Schemas</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Working with Data</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="working-with-data.html">Working with Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="validating-data.html">Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rdf.html">Working with RDF and LinkML</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">CSVs and Tabular Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#conversion">Conversion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#conventions-for-working-with-tabular-data">Conventions for working with tabular data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#container-objects">Container objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#on-the-fly-denormalization">On the fly denormalization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#inference-of-schemas-from-tabular-data">Inference of schemas from tabular data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python.html">Python</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../generators/index.html">Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples of use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystem.html">The LinkML Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specifications/linkml-spec.html">LinkML specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code.html">Code</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">linkml</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Working with Data</a> &raquo;</li>
      <li>CSVs and Tabular Data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/data/csvs.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="csvs-and-tabular-data">
<h1>CSVs and Tabular Data<a class="headerlink" href="#csvs-and-tabular-data" title="Permalink to this headline"></a></h1>
<p>LinkML can support both complex interlinked normalized relational data as well as flat/denormalized data as typically found in spreadsheets and in CSVs used by data scientists.</p>
<p>Our philosophy is “always have a schema” even when working with simple tabular data</p>
<section id="conversion">
<h2>Conversion<a class="headerlink" href="#conversion" title="Permalink to this headline"></a></h2>
<p>the <code class="docutils literal notranslate"><span class="pre">linkml-convert</span></code> script can be used to convert between CSVs/TSVs and other formats like JSON/RDF. The same tooling for <a class="reference internal" href="validating-data.html"><span class="doc std std-doc">validating-data</span></a> operate in the same way.</p>
<section id="conventions-for-working-with-tabular-data">
<h3>Conventions for working with tabular data<a class="headerlink" href="#conventions-for-working-with-tabular-data" title="Permalink to this headline"></a></h3>
<p>LinkML allows you to create schemas with complex nested data - these
don’t necessarily have a simple unified mapping to
tables/TSVs. However, you can still work with tabular representations
if your schema has a certain “shape” and you provide sufficient hints.</p>
</section>
<section id="container-objects">
<h3>Container objects<a class="headerlink" href="#container-objects" title="Permalink to this headline"></a></h3>
<p>See <span class="xref myst">part 2 of the tutorial</span> for more on container objects.</p>
<p>To serialize your data objects as TSVs, it’s assumed that you have a
class in your schema that serves the role of <em>container</em>. It can be
called whatever you like. You can also annotate this with
<a class="reference external" href="https://w3id.org/linkml/tree_root">tree_root</a> set to true. This class will have a multivalued slot pointing at the list of things you want to serialize in the TSV. This slot is known as the <em>index slot</em></p>
<p>For example, in the <a class="reference external" href="https://github.com/linkml/linkml/tree/main/examples/PersonSchema">PersonSchema</a> schema, the Container class has two possible index slots:</p>
<p><a class="reference external" href="https://yuml.me/diagram/nofunky;dir:TB/class/%5BPerson%5D,%5BOrganization%5D,%5BOrganization%5D%3Corganizations%200..*-++%5BContainer%5D,%5BPerson%5D%3Cpersons%200..*-++%5BContainer%5D"><img alt="img" src="https://yuml.me/diagram/nofunky;dir:TB/class/%5BPerson%5D,%5BOrganization%5D,%5BOrganization%5D%3Corganizations%200..*-++%5BContainer%5D,%5BPerson%5D%3Cpersons%200..*-++%5BContainer%5D" /></a></p>
<ul class="simple">
<li><p>persons: points at a list of Person objects</p></li>
<li><p>organizations: points at a list of Organization objects</p></li>
</ul>
<p>You can only serialize one of these in any one TSV (using more advanced techniques you could create a union class for Person and Organization and serialize this, but this is outside the scope of this tutorial)</p>
<p>The linkml command line tools for conversion and validation will do
their best to guess the index slot and the container, but if there is
no unambiguous choice, then have to provide these using the following
arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">-</span><span class="n">C</span><span class="p">,</span> <span class="o">--</span><span class="n">target</span><span class="o">-</span><span class="k">class</span> <span class="nc">TEXT</span>         <span class="n">name</span> <span class="n">of</span> <span class="k">class</span> <span class="nc">in</span> <span class="n">datamodel</span> <span class="n">that</span> <span class="n">the</span> <span class="n">root</span>
                                  <span class="n">node</span> <span class="n">instantiates</span>

  <span class="o">-</span><span class="n">S</span><span class="p">,</span> <span class="o">--</span><span class="n">index</span><span class="o">-</span><span class="n">slot</span> <span class="n">TEXT</span>           <span class="n">top</span> <span class="n">level</span> <span class="n">slot</span><span class="o">.</span> <span class="n">Required</span> <span class="k">for</span> <span class="n">CSV</span>
                                  <span class="n">dumping</span><span class="o">/</span><span class="n">loading</span>
</pre></div>
</div>
<p>For example, to serialize the organizations in the provided YAML data file in this repository, you can run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>linkml-convert -t tsv -s examples/PersonSchema/personinfo.yaml -C Container -S organizations examples/PersonSchema/data/example_personinfo_data.yaml
</pre></div>
</div>
<p>Note that currently serializing the person objects won’t work, as the Person class is too nested to be serialized as TSV</p>
</section>
<section id="on-the-fly-denormalization">
<h3>On the fly denormalization<a class="headerlink" href="#on-the-fly-denormalization" title="Permalink to this headline"></a></h3>
<p>The <a class="reference external" href="https://github.com/cmungall/json-flattener/">json-flattener/</a> library is used to do on-the-fly denormalizations. For example:</p>
<ul class="simple">
<li><p>multivalued slots are serialized using a <code class="docutils literal notranslate"><span class="pre">|</span></code> separator</p></li>
<li><p>nested slots are flattened to paths, e.g if Container has a slot persons, and Person has a slot name, then the path with be <code class="docutils literal notranslate"><span class="pre">persons_name</span></code></p></li>
</ul>
</section>
</section>
<section id="inference-of-schemas-from-tabular-data">
<h2>Inference of schemas from tabular data<a class="headerlink" href="#inference-of-schemas-from-tabular-data" title="Permalink to this headline"></a></h2>
<p>Use <code class="docutils literal notranslate"><span class="pre">tsvs2linkml</span></code> in the <a class="reference external" href="https://github.com/linkml/linkml-model-enrichment">enrichment toolkit</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rdf.html" class="btn btn-neutral float-left" title="Working with RDF and LinkML" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="python.html" class="btn btn-neutral float-right" title="Python" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, LinkML Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>