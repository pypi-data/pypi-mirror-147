var Xe=Object.defineProperty,Ye=Object.defineProperties;var Je=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var we=(l,e,t)=>e in l?Xe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Ie=(l,e)=>{for(var t in e||(e={}))Ge.call(e,t)&&we(l,t,e[t]);if(ye)for(var t of ye(e))Ke.call(e,t)&&we(l,t,e[t]);return l},Me=(l,e)=>Ye(l,Je(e));import{S as P,i as H,s as N,e as I,I as A,a as b,b as p,q as j,j as v,C as X,a5 as de,E as W,R as B,c as R,r as Re,a1 as Qe,a6 as Ve,o as Ze,F as $e,u as S,m as F,v as E,g as U,x as k,y,z,t as x,A as te,B as ne,k as _e,K as Be,H as Fe,f as Z,h as oe,L as xe,X as et,G as ue}from"./index.65fb5956.js";import{B as Ae}from"./Block.3fbf618d.js";import{B as Le,U as tt}from"./BlockLabel.f40d558f.js";import{C as nt,i as lt,I as it,W as st}from"./Image.svelte_svelte_type_style_lang.ad0ee660.js";import{I as Ce,M as at}from"./ModifyUpload.09ad2639.js";import{E as an}from"./Image.48fe5673.js";import"./_commonjsHelpers.88e99c8f.js";var ee="./assets/image.45facf29.svg",Se="./assets/edit.8ee16a39.svg";function rt(l){let e,t;return{c(){e=I("img"),A(e.src,t=l[0])||b(e,"src",t),b(e,"alt","")},m(n,i){p(n,e,i),l[2](e)},p(n,[i]){i&1&&!A(e.src,t=n[0])&&b(e,"src",t)},i:j,o:j,d(n){n&&v(e),l[2](null)}}}function ot(l,e,t){let{image:n}=e,i;const o=X();de(()=>{const r=new nt(i,{autoCropArea:1,cropend(){const a=r.getCroppedCanvas().toDataURL();o("crop",a)}});return o("crop",n),()=>{r.destroy()}});function s(r){W[r?"unshift":"push"](()=>{i=r,t(1,i)})}return l.$$set=r=>{"image"in r&&t(0,n=r.image)},[n,i,s]}class ut extends P{constructor(e){super(),H(this,e,ot,rt,N,{image:0})}}class Ee{constructor(e,t){this.x=e,this.y=t}}class ze extends Ee{update(e){this.x=e.x,this.y=e.y}moveByAngle(e,t){const n=e+Math.PI/2;this.x=this.x+Math.sin(n)*t,this.y=this.y-Math.cos(n)*t}equalsTo(e){return this.x===e.x&&this.y===e.y}getDifferenceTo(e){return new Ee(this.x-e.x,this.y-e.y)}getDistanceTo(e){const t=this.getDifferenceTo(e);return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}getAngleTo(e){const t=this.getDifferenceTo(e);return Math.atan2(t.y,t.x)}toObject(){return{x:this.x,y:this.y}}}const ct=30;class ft{constructor({radius:e=ct,enabled:t=!0,initialPoint:n={x:0,y:0}}={}){this.radius=e,this._isEnabled=t,this.pointer=new ze(n.x,n.y),this.brush=new ze(n.x,n.y),this.angle=0,this.distance=0,this._hasMoved=!1}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}isEnabled(){return this._isEnabled}setRadius(e){this.radius=e}getRadius(){return this.radius}getBrushCoordinates(){return this.brush.toObject()}getPointerCoordinates(){return this.pointer.toObject()}getBrush(){return this.brush}getPointer(){return this.pointer}getAngle(){return this.angle}getDistance(){return this.distance}brushHasMoved(){return this._hasMoved}update(e,{both:t=!1}={}){return this._hasMoved=!1,this.pointer.equalsTo(e)&&!t?!1:(this.pointer.update(e),t?(this._hasMoved=!0,this.brush.update(e),!0):(this._isEnabled?(this.distance=this.pointer.getDistanceTo(this.brush),this.angle=this.pointer.getAngleTo(this.brush),this.distance>this.radius&&(this.brush.moveByAngle(this.angle,this.distance-this.radius),this._hasMoved=!0)):(this.distance=0,this.angle=0,this.brush.update(e),this._hasMoved=!0),!0))}}function De(l,e,t){const n=l.slice();return n[39]=e[t].name,n[40]=e[t].zIndex,n[41]=e,n[42]=t,n}function Te(l){let e,t,n=l[39],i,o;const s=()=>l[13](e,n),r=()=>l[13](null,n);return{c(){e=I("canvas"),b(e,"key",t=l[39]),B(e,"display","block"),B(e,"position","absolute"),B(e,"z-index",l[40]),B(e,"width",l[0]+"px"),B(e,"height",l[1]+"px"),b(e,"class","svelte-1blbjbb")},m(a,f){p(a,e,f),s(),i||(o=[R(e,"mousedown",l[39]==="interface"?l[5]:void 0),R(e,"mousemove",l[39]==="interface"?l[6]:void 0),R(e,"mouseup",l[39]==="interface"?l[7]:void 0),R(e,"mouseout",l[39]==="interface"?l[7]:void 0),R(e,"touchstart",l[39]==="interface"?l[5]:void 0),R(e,"touchmove",l[39]==="interface"?l[6]:void 0),R(e,"touchend",l[39]==="interface"?l[7]:void 0),R(e,"touchcancel",l[39]==="interface"?l[7]:void 0)],i=!0)},p(a,f){l=a,f[0]&1&&B(e,"width",l[0]+"px"),f[0]&2&&B(e,"height",l[1]+"px"),n!==l[39]&&(r(),n=l[39],s())},d(a){a&&v(e),r(),i=!1,Re(o)}}}function dt(l){let e,t,n=l[4],i=[];for(let o=0;o<n.length;o+=1)i[o]=Te(De(l,n,o));return{c(){e=I("div");for(let o=0;o<i.length;o+=1)i[o].c();b(e,"class","container svelte-1blbjbb"),B(e,"height","100%"),B(e,"width","100%"),B(e,"background-color",_t),Qe(()=>l[15].call(e))},m(o,s){p(o,e,s);for(let r=0;r<i.length;r+=1)i[r].m(e,null);l[14](e),t=Ve(e,l[15].bind(e))},p(o,s){if(s[0]&247){n=o[4];let r;for(r=0;r<n.length;r+=1){const a=De(o,n,r);i[r]?i[r].p(a,s):(i[r]=Te(a),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},i:j,o:j,d(o){o&&v(e),Ze(i,o),l[14](null),t()}}}let $=50,ce="#444",fe="#aaa",_t="#FFF";function ht(l,e){return{x:l.x+(e.x-l.x)/2,y:l.y+(e.y-l.y)/2}}function gt(l,e,t){const n=X();let{value:i}=e,o,s=400,r=400;const a=[{name:"interface",zIndex:15},{name:"drawing",zIndex:11},{name:"temp",zIndex:12}];let f={},u={},d=[],M=[],D=!0,L=!0,O=!1,h=!1,C=null,J=null,q=null,G=null;de(()=>{Object.keys(f).forEach(c=>{u[c]=f[c].getContext("2d")}),C=new ft({radius:$/1.5,enabled:!0,initialPoint:{x:window.innerWidth/2,y:window.innerHeight/2}}),J=$,G=new lt((c,_)=>qe(c,_)),G.observe(q),re(),t(12,o=!0),window.setTimeout(()=>{const c=window.innerWidth/2,_=window.innerHeight/2;C.update({x:c-J/4,y:_},{both:!0}),C.update({x:c+J/4,y:_},{both:!1}),D=!0,L=!0,K()},100)}),$e(()=>{t(12,o=!1),G.unobserve(q)});function le(){const c=M.slice(0,-1);K(),g({lines:c}),ve()}let ie=()=>JSON.stringify({lines:M,width:s,height:r}),se=c=>{if(typeof c!="string")throw new Error("save_data needs to be of type string!");const{lines:_,width:m,height:w}=JSON.parse(c);if(!_||typeof _.push!="function")throw new Error("save_data.lines needs to be an array!");if(K(),m===s&&w===r)g({lines:_});else{const T=s/m,Y=r/w;g({lines:_.map(Q=>Me(Ie({},Q),{points:Q.points.map(V=>({x:V.x*T,y:V.y*Y})),brush_radius:Q.brush_radius}))})}},g=({lines:c})=>{c.forEach(_=>{const{points:m,brush_color:w,brush_radius:T}=_;be({points:m,brush_color:w,brush_radius:T}),d=m,pe()})},Oe=c=>{c.preventDefault(),h=!0;const{x:_,y:m}=ge(c);c.touches&&c.touches.length>0&&C.update({x:_,y:m},{both:!0}),me(_,m)},he=c=>{c.preventDefault();const{x:_,y:m}=ge(c);me(_,m)},Ue=c=>{c.preventDefault(),he(c),O=!1,h=!1,pe()},qe=c=>{const _=ie();for(const m of c){const{width:w,height:T}=m.contentRect;ae(f.interface,w,T),ae(f.drawing,w,T),ae(f.temp,w,T),re({once:!0})}se(_)},ae=(c,_,m)=>{c.width=_*3,c.height=m*3,c.style.width=_,c.style.height=m},ge=c=>{const _=f.interface.getBoundingClientRect();let m=c.clientX,w=c.clientY;return c.changedTouches&&c.changedTouches.length>0&&(m=c.changedTouches[0].clientX,w=c.changedTouches[0].clientY),{x:m-_.left,y:w-_.top}},me=(c,_)=>{C.update({x:c*3,y:_*3});const m=!C.isEnabled();(h&&!O||m&&h)&&(O=!0,d.push(C.brush.toObject())),O&&(d.push(C.brush.toObject()),be({points:d,brush_color:ce,brush_radius:$})),D=!0},be=({points:c,brush_color:_,brush_radius:m})=>{u.temp.lineJoin="round",u.temp.lineCap="round",u.temp.strokeStyle=_,u.temp.clearRect(0,0,u.temp.canvas.width,u.temp.canvas.height),u.temp.lineWidth=m;let w=c[0],T=c[1];u.temp.moveTo(T.x,T.y),u.temp.beginPath();for(var Y=1,Q=c.length;Y<Q;Y++){var V=ht(w,T);u.temp.quadraticCurveTo(w.x,w.y,V.x,V.y),w=c[Y],T=c[Y+1]}u.temp.lineTo(w.x,w.y),u.temp.stroke()},pe=()=>{if(d.length<2)return;M.push({points:[...d],brush_color:ce,brush_radius:$}),d.length=0;const c=f.temp.width,_=f.temp.height;u.drawing.drawImage(f.temp,0,0,c,_),u.temp.clearRect(0,0,c,_),ve()},ve=()=>{n("change",ke())};function K(){M=[],L=!0,u.drawing.clearRect(0,0,f.drawing.width,f.drawing.height),u.temp.clearRect(0,0,f.temp.width,f.temp.height),u.drawing.fillStyle="#FFFFFF",u.drawing.fillRect(0,0,f.drawing.width,f.drawing.height)}let re=({once:c=!1}={})=>{if(D||L){const _=C.getPointerCoordinates(),m=C.getBrushCoordinates();We(u.interface,_,m),D=!1,L=!1}c||window.requestAnimationFrame(()=>{re()})},We=(c,_,m)=>{c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.fillStyle=ce,c.arc(m.x,m.y,$/2,0,Math.PI*2,!0),c.fill(),c.beginPath(),c.fillStyle=fe,c.arc(_.x,_.y,4,0,Math.PI*2,!0),c.fill(),C.isEnabled()&&(c.beginPath(),c.lineWidth=2,c.lineCap="round",c.setLineDash([2,4]),c.strokeStyle=fe,c.stroke()),c.beginPath(),c.fillStyle=fe,c.arc(m.x,m.y,2,0,Math.PI*2,!0),c.fill()};function ke(){return f.drawing.toDataURL("image/png")}function Pe(c,_){W[c?"unshift":"push"](()=>{f[_]=c,t(2,f)})}function He(c){W[c?"unshift":"push"](()=>{q=c,t(3,q)})}function Ne(){s=this.offsetWidth,r=this.offsetHeight,t(0,s),t(1,r)}return l.$$set=c=>{"value"in c&&t(8,i=c.value)},l.$$.update=()=>{l.$$.dirty[0]&4352&&o&&!i&&K()},[s,r,f,q,a,Oe,he,Ue,i,le,K,ke,o,Pe,He,Ne]}class mt extends P{constructor(e){super(),H(this,e,gt,dt,N,{value:8,undo:9,clear:10,get_image_data:11},null,[-1,-1])}get undo(){return this.$$.ctx[9]}get clear(){return this.$$.ctx[10]}get get_image_data(){return this.$$.ctx[11]}}var bt="./assets/undo.f4cff58b.svg",pt="./assets/clear.88e065e8.svg";function vt(l){let e,t,n,i,o;return t=new Ce({props:{image:bt,alt:"undo sketch"}}),t.$on("click",l[1]),i=new Ce({props:{image:pt,alt:"clear sketch"}}),i.$on("click",l[2]),{c(){e=I("div"),S(t.$$.fragment),n=F(),S(i.$$.fragment),b(e,"class","z-50 top-2 right-2 justify-end flex gap-1 absolute")},m(s,r){p(s,e,r),E(t,e,null),U(e,n),E(i,e,null),o=!0},p:j,i(s){o||(k(t.$$.fragment,s),k(i.$$.fragment,s),o=!0)},o(s){y(t.$$.fragment,s),y(i.$$.fragment,s),o=!1},d(s){s&&v(e),z(t),z(i)}}}function kt(l){const e=X();return[e,()=>e("undo"),()=>e("clear")]}class yt extends P{constructor(e){super(),H(this,e,kt,vt,N,{})}}function wt(l){let e,t,n,i,o,s,r,a,f;return{c(){e=I("div"),t=I("div"),n=I("button"),n.textContent="Save",i=F(),o=I("button"),o.textContent="Cancel",s=F(),r=I("div"),b(t,"class","image_editor_buttons"),b(e,"class","fixed w-screen h-screen top-0 left-0 bg-black bg-opacity-50 z-40 flex flex-col justify-center items-center")},m(u,d){p(u,e,d),U(e,t),U(t,n),U(t,i),U(t,o),U(e,s),U(e,r),l[6](r),a||(f=[R(n,"click",l[4]),R(o,"click",l[5])],a=!0)},p:j,i:j,o:j,d(u){u&&v(e),l[6](null),a=!1,Re(f)}}}function It(l,e,t){let{value:n}=e,i,o;const s=X();function r(){t(1,o=new it(i,{usageStatistics:!1,includeUI:{loadImage:{path:n,name:"Edit Image"},menuBarPosition:"left",uiSize:{width:"800px",height:"600px"}},cssMaxWidth:700,cssMaxHeight:500,selectionStyle:{cornerSize:20,rotatingPointOffset:70}}))}de(r);const a=()=>s("save",o.toDataURL()),f=()=>s("cancel");function u(d){W[d?"unshift":"push"](()=>{i=d,t(0,i)})}return l.$$set=d=>{"value"in d&&t(3,n=d.value)},[i,o,s,n,a,f,u]}class Mt extends P{constructor(e){super(),H(this,e,It,wt,N,{value:3})}}function Ct(l){let e,t;return{c(){e=I("img"),b(e,"class","w-full h-full object-contain svelte-i8mnhh"),A(e.src,t=l[0])||b(e,"src",t),b(e,"alt","")},m(n,i){p(n,e,i)},p(n,i){i&1&&!A(e.src,t=n[0])&&b(e,"src",t)},i:j,o:j,d(n){n&&v(e)}}}function St(l){let e,t,n,i,o,s,r=l[7]==="edit"&&je(l);return t=new at({props:{editable:!0}}),t.$on("edit",l[19]),t.$on("clear",l[11]),{c(){r&&r.c(),e=F(),S(t.$$.fragment),n=F(),i=I("img"),b(i,"class","w-full h-full object-contain svelte-i8mnhh"),A(i.src,o=l[0])||b(i,"src",o),b(i,"alt","")},m(a,f){r&&r.m(a,f),p(a,e,f),E(t,a,f),p(a,n,f),p(a,i,f),s=!0},p(a,f){a[7]==="edit"?r?(r.p(a,f),f&128&&k(r,1)):(r=je(a),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(te(),y(r,1,1,()=>{r=null}),ne()),(!s||f&1&&!A(i.src,o=a[0]))&&b(i,"src",o)},i(a){s||(k(r),k(t.$$.fragment,a),s=!0)},o(a){y(r),y(t.$$.fragment,a),s=!1},d(a){r&&r.d(a),a&&v(e),z(t,a),a&&v(n),a&&v(i)}}}function Et(l){let e,t;return e=new ut({props:{image:l[0]}}),e.$on("crop",l[12]),{c(){S(e.$$.fragment)},m(n,i){E(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.image=n[0]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function zt(l){let e,t,n,i;const o=[jt,Tt],s=[];function r(a,f){return a[2]==="upload"?0:a[2]==="webcam"?1:-1}return~(e=r(l))&&(t=s[e]=o[e](l)),{c(){t&&t.c(),n=_e()},m(a,f){~e&&s[e].m(a,f),p(a,n,f),i=!0},p(a,f){let u=e;e=r(a),e===u?~e&&s[e].p(a,f):(t&&(te(),y(s[u],1,1,()=>{s[u]=null}),ne()),~e?(t=s[e],t?t.p(a,f):(t=s[e]=o[e](a),t.c()),k(t,1),t.m(n.parentNode,n)):t=null)},i(a){i||(k(t),i=!0)},o(a){y(t),i=!1},d(a){~e&&s[e].d(a),a&&v(n)}}}function Dt(l){let e,t,n,i;e=new yt({}),e.$on("undo",l[14]),e.$on("clear",l[15]);let o={value:l[0]};return n=new mt({props:o}),l[16](n),n.$on("change",l[12]),{c(){S(e.$$.fragment),t=F(),S(n.$$.fragment)},m(s,r){E(e,s,r),p(s,t,r),E(n,s,r),i=!0},p(s,r){const a={};r&1&&(a.value=s[0]),n.$set(a)},i(s){i||(k(e.$$.fragment,s),k(n.$$.fragment,s),i=!0)},o(s){y(e.$$.fragment,s),y(n.$$.fragment,s),i=!1},d(s){z(e,s),s&&v(t),l[16](null),z(n,s)}}}function je(l){let e,t;return e=new Mt({props:{value:l[0]}}),e.$on("cancel",l[18]),e.$on("save",l[12]),{c(){S(e.$$.fragment)},m(n,i){E(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.value=n[0]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Tt(l){let e,t;return e=new st({}),e.$on("capture",l[12]),{c(){S(e.$$.fragment)},m(n,i){E(e,n,i),t=!0},p:j,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function jt(l){let e,t,n;function i(s){l[17](s)}let o={filetype:"image/x-png,image/gif,image/jpeg",include_file_metadata:!1,$$slots:{default:[Rt]},$$scope:{ctx:l}};return l[9]!==void 0&&(o.dragging=l[9]),e=new tt({props:o}),W.push(()=>Be(e,"dragging",i)),e.$on("load",l[10]),{c(){S(e.$$.fragment)},m(s,r){E(e,s,r),n=!0},p(s,r){const a={};r&2097264&&(a.$$scope={dirty:r,ctx:s}),!t&&r&512&&(t=!0,a.dragging=s[9],Fe(()=>t=!1)),e.$set(a)},i(s){n||(k(e.$$.fragment,s),n=!0)},o(s){y(e.$$.fragment,s),n=!1},d(s){z(e,s)}}}function Rt(l){let e,t,n,i,o,s,r,a,f;return{c(){e=Z(l[4]),t=F(),n=I("br"),i=Z("- "),o=Z(l[5]),s=Z(" -"),r=I("br"),a=F(),f=Z(l[6]),b(n,"class","svelte-i8mnhh"),b(r,"class","svelte-i8mnhh")},m(u,d){p(u,e,d),p(u,t,d),p(u,n,d),p(u,i,d),p(u,o,d),p(u,s,d),p(u,r,d),p(u,a,d),p(u,f,d)},p(u,d){d&16&&oe(e,u[4]),d&32&&oe(o,u[5]),d&64&&oe(f,u[6])},d(u){u&&v(e),u&&v(t),u&&v(n),u&&v(i),u&&v(o),u&&v(s),u&&v(r),u&&v(a),u&&v(f)}}}function Bt(l){let e,t,n,i,o,s;e=new Le({props:{image:l[2]==="canvas"?Se:ee,label:l[1]||(l[2]==="canvas"?"Sketch":"Image")}});const r=[Dt,zt,Et,St,Ct],a=[];function f(u,d){return u[2]==="canvas"?0:u[0]===null?1:u[3]==="select"?2:u[3]==="editor"?3:4}return i=f(l),o=a[i]=r[i](l),{c(){S(e.$$.fragment),t=F(),n=I("div"),o.c(),b(n,"class","svelte-i8mnhh"),x(n,"bg-gray-200",l[0]),x(n,"h-60",l[2]!=="webcam")},m(u,d){E(e,u,d),p(u,t,d),p(u,n,d),a[i].m(n,null),s=!0},p(u,d){const M={};d&4&&(M.image=u[2]==="canvas"?Se:ee),d&6&&(M.label=u[1]||(u[2]==="canvas"?"Sketch":"Image")),e.$set(M);let D=i;i=f(u),i===D?a[i].p(u,d):(te(),y(a[D],1,1,()=>{a[D]=null}),ne(),o=a[i],o?o.p(u,d):(o=a[i]=r[i](u),o.c()),k(o,1),o.m(n,null)),d&1&&x(n,"bg-gray-200",u[0]),d&4&&x(n,"h-60",u[2]!=="webcam")},i(u){s||(k(e.$$.fragment,u),k(o),s=!0)},o(u){y(e.$$.fragment,u),y(o),s=!1},d(u){z(e,u),u&&v(t),u&&v(n),a[i].d()}}}function Ft(l){let e,t;return e=new Ae({props:{variant:l[0]===null&&l[2]==="upload"?"dashed":"solid",color:l[9]?"green":"grey",padding:!1,$$slots:{default:[Bt]},$$scope:{ctx:l}}}),{c(){S(e.$$.fragment)},m(n,i){E(e,n,i),t=!0},p(n,[i]){const o={};i&5&&(o.variant=n[0]===null&&n[2]==="upload"?"dashed":"solid"),i&512&&(o.color=n[9]?"green":"grey"),i&2098175&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function At(l,e,t){let{value:n}=e,{label:i=void 0}=e,{style:o=""}=e,{source:s="upload"}=e,{tool:r="editor"}=e,{drop_text:a="Drop an image file"}=e,{or_text:f="or"}=e,{upload_text:u="click to upload"}=e,d="view",M;function D({detail:g}){t(0,n=g)}function L({detail:g}){t(0,n=null),h("clear")}function O({detail:g}){t(0,n=g),t(7,d="view"),h("edit")}const h=X();let C=!1;const J=()=>M.undo(),q=()=>M.clear();function G(g){W[g?"unshift":"push"](()=>{M=g,t(8,M)})}function le(g){C=g,t(9,C)}const ie=()=>t(7,d="view"),se=()=>t(7,d="edit");return l.$$set=g=>{"value"in g&&t(0,n=g.value),"label"in g&&t(1,i=g.label),"style"in g&&t(13,o=g.style),"source"in g&&t(2,s=g.source),"tool"in g&&t(3,r=g.tool),"drop_text"in g&&t(4,a=g.drop_text),"or_text"in g&&t(5,f=g.or_text),"upload_text"in g&&t(6,u=g.upload_text)},l.$$.update=()=>{l.$$.dirty&1&&h("change",n)},[n,i,s,r,a,f,u,d,M,C,D,L,O,o,J,q,G,le,ie,se]}class Lt extends P{constructor(e){super(),H(this,e,At,Ft,N,{value:0,label:1,style:13,source:2,tool:3,drop_text:4,or_text:5,upload_text:6})}}function Ot(l){let e,t;return{c(){e=I("img"),b(e,"class","w-full h-full object-contain"),A(e.src,t=l[0])||b(e,"src",t),b(e,"alt","")},m(n,i){p(n,e,i)},p(n,i){i&1&&!A(e.src,t=n[0])&&b(e,"src",t)},d(n){n&&v(e)}}}function Ut(l){let e,t,n;return{c(){e=I("div"),t=I("img"),A(t.src,n=ee)||b(t,"src",n),b(t,"alt",""),b(t,"class","h-10 opacity-30"),b(e,"class","min-h-[16rem] flex justify-center items-center")},m(i,o){p(i,e,o),U(e,t)},p:j,d(i){i&&v(e)}}}function qt(l){let e,t,n,i;e=new Le({props:{image:ee,label:l[1]||"Image"}});function o(a,f){return a[0]===null?Ut:Ot}let s=o(l),r=s(l);return{c(){S(e.$$.fragment),t=F(),r.c(),n=_e()},m(a,f){E(e,a,f),p(a,t,f),r.m(a,f),p(a,n,f),i=!0},p(a,f){const u={};f&2&&(u.label=a[1]||"Image"),e.$set(u),s===(s=o(a))&&r?r.p(a,f):(r.d(1),r=s(a),r&&(r.c(),r.m(n.parentNode,n)))},i(a){i||(k(e.$$.fragment,a),i=!0)},o(a){y(e.$$.fragment,a),i=!1},d(a){z(e,a),a&&v(t),r.d(a),a&&v(n)}}}function Wt(l){let e,t;return e=new Ae({props:{variant:"solid",color:"grey",padding:!1,$$slots:{default:[qt]},$$scope:{ctx:l}}}),{c(){S(e.$$.fragment)},m(n,i){E(e,n,i),t=!0},p(n,[i]){const o={};i&19&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Pt(l,e,t){let{value:n}=e,{label:i=void 0}=e,{style:o=""}=e;const s=X();return l.$$set=r=>{"value"in r&&t(0,n=r.value),"label"in r&&t(1,i=r.label),"style"in r&&t(2,o=r.style)},l.$$.update=()=>{l.$$.dirty&1&&n&&s("change",n)},[n,i,o]}class Ht extends P{constructor(e){super(),H(this,e,Pt,Wt,N,{value:0,label:1,style:2})}}function Nt(l){let e,t,n;function i(s){l[8](s)}let o={style:l[1],source:l[2],tool:l[3],label:l[4],drop_text:l[6]("interface.drop_image"),or_text:l[6]("or"),upload_text:l[6]("interface.click_to_upload")};return l[0]!==void 0&&(o.value=l[0]),e=new Lt({props:o}),W.push(()=>Be(e,"value",i)),e.$on("edit",l[9]),e.$on("clear",l[10]),e.$on("change",l[11]),{c(){S(e.$$.fragment)},m(s,r){E(e,s,r),n=!0},p(s,r){const a={};r&2&&(a.style=s[1]),r&4&&(a.source=s[2]),r&8&&(a.tool=s[3]),r&16&&(a.label=s[4]),r&64&&(a.drop_text=s[6]("interface.drop_image")),r&64&&(a.or_text=s[6]("or")),r&64&&(a.upload_text=s[6]("interface.click_to_upload")),!t&&r&1&&(t=!0,a.value=s[0],Fe(()=>t=!1)),e.$set(a)},i(s){n||(k(e.$$.fragment,s),n=!0)},o(s){y(e.$$.fragment,s),n=!1},d(s){z(e,s)}}}function Xt(l){let e,t;return e=new Ht({props:{value:l[0],label:l[4],style:l[1]}}),{c(){S(e.$$.fragment)},m(n,i){E(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.value=n[0]),i&16&&(o.label=n[4]),i&2&&(o.style=n[1]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Yt(l){let e,t,n,i;const o=[Xt,Nt],s=[];function r(a,f){return a[5]==="static"?0:1}return e=r(l),t=s[e]=o[e](l),{c(){t.c(),n=_e()},m(a,f){s[e].m(a,f),p(a,n,f),i=!0},p(a,[f]){let u=e;e=r(a),e===u?s[e].p(a,f):(te(),y(s[u],1,1,()=>{s[u]=null}),ne(),t=s[e],t?t.p(a,f):(t=s[e]=o[e](a),t.c()),k(t,1),t.m(n.parentNode,n))},i(a){i||(k(t),i=!0)},o(a){y(t),i=!1},d(a){s[e].d(a),a&&v(n)}}}function Jt(l,e,t){let n;xe(l,et,h=>t(6,n=h));let{value:i=null}=e,{default_value:o=null}=e,{style:s=""}=e,{source:r="upload"}=e,{tool:a="editor"}=e,{label:f}=e,{mode:u}=e;const d=X();o&&(i=o);function M(h){i=h,t(0,i)}function D(h){ue.call(this,l,h)}function L(h){ue.call(this,l,h)}function O(h){ue.call(this,l,h)}return l.$$set=h=>{"value"in h&&t(0,i=h.value),"default_value"in h&&t(7,o=h.default_value),"style"in h&&t(1,s=h.style),"source"in h&&t(2,r=h.source),"tool"in h&&t(3,a=h.tool),"label"in h&&t(4,f=h.label),"mode"in h&&t(5,u=h.mode)},l.$$.update=()=>{l.$$.dirty&1&&d("change")},[i,s,r,a,f,u,n,o,M,D,L,O]}class Gt extends P{constructor(e){super(),H(this,e,Jt,Yt,N,{value:0,default_value:7,style:1,source:2,tool:3,label:4,mode:5})}}var tn=Gt;const nn=["static","dynamic"];export{tn as Component,an as ExampleComponent,nn as modes};
