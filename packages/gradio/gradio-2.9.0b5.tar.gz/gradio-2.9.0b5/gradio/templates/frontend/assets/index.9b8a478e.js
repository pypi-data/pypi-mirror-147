import{S as se,i as re,s as ue,e as D,a as k,t as L,b as M,J as Ee,d as Ce,j as S,m as B,g as E,Z as K,c as T,q as P,r as Z,k as Ne,C as ae,f as ie,_ as U,h as oe,$ as Q,a0 as J,E as I,u as Te,v as qe,x as Le,y as Me,z as Se}from"./index.aac18387.js";function X(s,e,t){const l=s.slice();return l[40]=e[t],l[42]=t,l}function Y(s,e,t){const l=s.slice();return l[43]=e[t].value,l[44]=e[t].id,l[45]=e,l[46]=t,l}function j(s,e,t){const l=s.slice();return l[43]=e[t].value,l[44]=e[t].id,l[47]=e,l[42]=t,l}function Fe(s){let e,t=s[43]+"",l;return{c(){e=D("span"),l=ie(t),k(e,"tabindex","-1"),k(e,"role","button"),k(e,"class","min-h-full svelte-b0ty1d"),L(e,"opacity-0",s[8]===s[44])},m(r,o){M(r,e,o),E(e,l)},p(r,o){o[0]&32&&t!==(t=r[43]+"")&&oe(l,t),o[0]&288&&L(e,"opacity-0",r[8]===r[44])},d(r){r&&S(e)}}}function Je(s){let e,t=s[44],l,r;function o(){s[24].call(e,s[47],s[42])}const _=()=>s[25](e,t),m=()=>s[25](null,t);return{c(){e=D("input"),k(e,"class","bg-transparent inset-y-0 left-6 outline-none absolute p-0 w-3/4 text-xs font-medium text-gray-500 uppercase tracking-wider svelte-b0ty1d"),k(e,"tabindex","-1")},m(u,a){M(u,e,a),U(e,s[43]),_(),l||(r=[T(e,"input",o),T(e,"keydown",s[15]),T(e,"blur",ze)],l=!0)},p(u,a){s=u,a[0]&32&&e.value!==s[43]&&U(e,s[43]),t!==s[44]&&(m(),t=s[44],_())},d(u){u&&S(e),m(),l=!1,Z(r)}}}function x(s,e){let t,l,r,o,_;function m(y,v){return y[8]===y[44]?Je:Fe}let u=m(e),a=u(e);function i(){return e[26](e[42])}function N(){return e[27](e[44])}return{key:s,first:null,c(){t=D("th"),a.c(),k(t,"aria-sort",l=e[9](e[43],e[7],e[6])),k(t,"class","after:absolute after:opacity-0 after:content-['\u25B2'] after:ml-2 after:inset-y-0 after:h-[1.05rem] after:m-auto relative px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider svelte-b0ty1d"),L(t,"sorted",e[7]===e[42]),L(t,"des",e[7]===e[42]&&e[6]==="des"),this.first=t},m(y,v){M(y,t,v),a.m(t,null),o||(_=Ee(r=e[18].call(null,t,{click:i,dblclick:N})),o=!0)},p(y,v){e=y,u===(u=m(e))&&a?a.p(e,v):(a.d(1),a=u(e),a&&(a.c(),a.m(t,null))),v[0]&224&&l!==(l=e[9](e[43],e[7],e[6]))&&k(t,"aria-sort",l),r&&Ce(r.update)&&v[0]&32&&r.update.call(null,{click:i,dblclick:N}),v[0]&160&&L(t,"sorted",e[7]===e[42]),v[0]&224&&L(t,"des",e[7]===e[42]&&e[6]==="des")},d(y){y&&S(t),a.d(),o=!1,_()}}}function $(s){let e,t=s[44],l,r;function o(){s[28].call(e,s[45],s[46])}const _=()=>s[29](e,t),m=()=>s[29](null,t);return{c(){e=D("input"),k(e,"class","outline-none absolute p-0 w-3/4 svelte-b0ty1d"),k(e,"tabindex","-1")},m(u,a){M(u,e,a),U(e,s[43]),_(),l||(r=[T(e,"input",o),T(e,"blur",Be)],l=!0)},p(u,a){s=u,a[0]&8&&e.value!==s[43]&&U(e,s[43]),t!==s[44]&&(m(),t=s[44],_())},d(u){u&&S(e),m(),l=!1,Z(r)}}}function ee(s,e){var c;let t,l,r,o,_=((c=e[43])!=null?c:"")+"",m,u,a=e[44],i,N,y=e[1]===e[44]&&$(e);function v(){return e[30](e[44])}function q(){return e[31](e[44])}function F(...b){return e[32](e[42],e[46],e[44],...b)}const p=()=>e[33](t,a),g=()=>e[33](null,a);return{key:s,first:null,c(){t=D("td"),l=D("div"),y&&y.c(),r=B(),o=D("span"),m=ie(_),k(o,"class","cursor-default w-full svelte-b0ty1d"),k(o,"tabindex","-1"),k(o,"role","button"),L(o,"opacity-0",e[1]===e[44]),k(l,"class",u="min-h-[3.3rem] px-5 py-3 border-[0.125rem] "+(e[2]===e[44]?"border-gray-600 dark:border-gray-200":"")+" svelte-b0ty1d"),L(l,"border-transparent",e[2]!==e[44]),k(t,"tabindex","-1"),k(t,"class","p-0 whitespace-nowrap display-block outline-none relative  svelte-b0ty1d"),this.first=t},m(b,w){M(b,t,w),E(t,l),y&&y.m(l,null),E(l,r),E(l,o),E(o,m),p(),i||(N=[T(t,"dblclick",v),T(t,"click",q),T(t,"keydown",F),T(t,"blur",He)],i=!0)},p(b,w){var z;e=b,e[1]===e[44]?y?y.p(e,w):(y=$(e),y.c(),y.m(l,r)):y&&(y.d(1),y=null),w[0]&8&&_!==(_=((z=e[43])!=null?z:"")+"")&&oe(m,_),w[0]&10&&L(o,"opacity-0",e[1]===e[44]),w[0]&12&&u!==(u="min-h-[3.3rem] px-5 py-3 border-[0.125rem] "+(e[2]===e[44]?"border-gray-600 dark:border-gray-200":"")+" svelte-b0ty1d")&&k(l,"class",u),w[0]&12&&L(l,"border-transparent",e[2]!==e[44]),a!==e[44]&&(g(),a=e[44],p())},d(b){b&&S(t),y&&y.d(),g(),i=!1,Z(N)}}}function te(s,e){let t,l=[],r=new Map,o,_=e[40];const m=u=>u[44];for(let u=0;u<_.length;u+=1){let a=Y(e,_,u),i=m(a);r.set(i,l[u]=ee(i,a))}return{key:s,first:null,c(){t=D("tr");for(let u=0;u<l.length;u+=1)l[u].c();o=B(),k(t,"class","svelte-b0ty1d"),this.first=t},m(u,a){M(u,t,a);for(let i=0;i<l.length;i+=1)l[i].m(t,null);E(t,o)},p(u,a){e=u,a[0]&7198&&(_=e[40],l=K(l,a,m,1,e,_,r,t,Q,ee,o,Y))},d(u){u&&S(t);for(let a=0;a<l.length;a+=1)l[a].d()}}}function le(s){let e,t,l,r,o,_;return{c(){e=D("div"),t=D("button"),t.textContent="New Column",l=B(),r=D("button"),r.textContent="New Row",k(t,"class","hover:bg-gray-100 dark:hover:bg-gray-600 shadow py-1 px-3 rounded transition focus:outline-none m-2 mr-0 svelte-b0ty1d"),k(r,"class","bg-amber-500 hover:bg-amber-400 dark:bg-red-700 dark:hover:bg-red-600 text-white shadow py-1 px-3 rounded transition focus:outline-none m-2 mr-0 svelte-b0ty1d"),k(e,"class","flex justify-end  svelte-b0ty1d")},m(m,u){M(m,e,u),E(e,t),E(e,l),E(e,r),o||(_=[T(t,"click",s[17]),T(r,"click",s[16])],o=!0)},p:P,d(m){m&&S(e),o=!1,Z(_)}}}function Re(s){let e,t,l,r,o=[],_=new Map,m,u,a=[],i=new Map,N,y,v=s[5];const q=c=>c[44];for(let c=0;c<v.length;c+=1){let b=j(s,v,c),w=q(b);_.set(w,o[c]=x(w,b))}let F=s[3];const p=c=>c[40];for(let c=0;c<F.length;c+=1){let b=X(s,F,c),w=p(b);i.set(w,a[c]=te(w,b))}let g=s[0]&&le(s);return{c(){e=D("div"),t=D("table"),l=D("thead"),r=D("tr");for(let c=0;c<o.length;c+=1)o[c].c();m=B(),u=D("tbody");for(let c=0;c<a.length;c+=1)a[c].c();N=B(),g&&g.c(),y=Ne(),k(r,"class","svelte-b0ty1d"),k(l,"class","bg-gray-50 dark:bg-gray-800 svelte-b0ty1d"),k(u,"class","bg-white divide-y divide-gray-200 dark:divide-gray-500 dark:bg-gray-600 svelte-b0ty1d"),k(t,"id","grid"),k(t,"role","grid"),k(t,"aria-labelledby","title"),k(t,"class","min-w-full divide-y divide-gray-200 dark:divide-gray-800 svelte-b0ty1d"),k(e,"class","shadow overflow-hidden border-gray-200 rounded-sm relative svelte-b0ty1d")},m(c,b){M(c,e,b),E(e,t),E(t,l),E(l,r);for(let w=0;w<o.length;w+=1)o[w].m(r,null);E(r,m),E(t,u);for(let w=0;w<a.length;w+=1)a[w].m(u,null);M(c,N,b),g&&g.m(c,b),M(c,y,b)},p(c,b){b[0]&58352&&(v=c[5],o=K(o,b,q,1,c,v,_,r,Q,x,m,j)),b[0]&7198&&(F=c[3],a=K(a,b,p,1,c,F,i,u,Q,te,null,X)),c[0]?g?g.p(c,b):(g=le(c),g.c(),g.m(y.parentNode,y)):g&&(g.d(1),g=null)},i:P,o:P,d(c){c&&S(e);for(let b=0;b<o.length;b+=1)o[b].d();for(let b=0;b<a.length;b+=1)a[b].d();c&&S(N),g&&g.d(c),c&&S(y)}}}function ne(s,e){return e?s.every((t,l)=>Array.isArray(t)?t.every((r,o)=>{var _;return r===((_=e==null?void 0:e[l])==null?void 0:_[o])}):t===(e==null?void 0:e[l])):!1}const ze=({currentTarget:s})=>s.setAttribute("tabindex","-1"),Be=({currentTarget:s})=>s.setAttribute("tabindex","-1"),He=({currentTarget:s})=>s.setAttribute("tabindex","-1");function Oe(s,e,t){let{headers:l=[]}=e,{values:r=[[]]}=e,{style:o=""}=e,{editable:_=!0}=e;const m=ae();let u=!1,a=!1,i={};function N(n){return!n||n.length===0?r[0].map((f,d)=>{const h=`h-${d}`;return t(4,i[h]={cell:null,input:null},i),{id:h,value:JSON.stringify(d+1)}}):n.map((f,d)=>{const h=`h-${d}`;return t(4,i[h]={cell:null,input:null},i),{id:h,value:f}})}function y(n){return n.map((f,d)=>f.map((h,A)=>{const C=`${d}-${A}`;return t(4,i[C]={input:null,cell:null},i),{value:h,id:C}}))||[Array(l.length).fill(0).map((f,d)=>{const h=`0-${d}`;return t(4,i[h]={input:null,cell:null},i),{value:"",id:`0-${d}`}})]}let v=N(l),q;async function F(){var n,f,d,h;typeof u=="string"?(await J(),(f=(n=i[u])==null?void 0:n.input)==null||f.focus()):typeof a=="string"&&(await J(),(h=(d=i[a])==null?void 0:d.input)==null||h.focus())}let p=[[]],g;function c(n,f,d){if(!f)return"none";if(l[f]===n){if(d==="asc")return"ascending";if(d==="des")return"descending"}}async function b(n){if(!_)return;t(1,u=n),await J();const{input:f}=i[n];f==null||f.focus()}function w(n,f,d,h){let A;switch(n.key){case"ArrowRight":if(u)break;n.preventDefault(),A=p[f][d+1],t(2,a=A?A.id:a);break;case"ArrowLeft":if(u)break;n.preventDefault(),A=p[f][d-1],t(2,a=A?A.id:a);break;case"ArrowDown":if(u)break;n.preventDefault(),A=p[f+1],t(2,a=A?A[d].id:a);break;case"ArrowUp":if(u)break;n.preventDefault(),A=p[f-1],t(2,a=A?A[d].id:a);break;case"Escape":if(!_)break;n.preventDefault(),t(1,u=!1);break;case"Enter":if(!_)break;n.preventDefault(),u===h?t(1,u=!1):t(1,u=h);break;case"Backspace":if(!_)break;u||(n.preventDefault(),t(3,p[f][d].value="",p));break;case"Delete":if(!_)break;u||(n.preventDefault(),t(3,p[f][d].value="",p));break}}async function z(n){u!==n&&a!==n&&(t(1,u=!1),t(2,a=n))}async function V(n,f){var d,h,A;if(f==="edit"&&typeof n=="number"&&(await J(),(d=i[n].input)==null||d.focus()),f==="edit"&&typeof n=="boolean"&&typeof a=="number"){let C=(h=i[a])==null?void 0:h.cell;await J(),C==null||C.focus()}if(f==="select"&&typeof n=="number"){const{cell:C}=i[n];C==null||C.setAttribute("tabindex","0"),await J(),(A=i[n].cell)==null||A.focus()}}let R,H;function fe(n,f){f==="asc"?t(3,p=p.sort((d,h)=>d[n].value<h[n].value?-1:1)):f==="des"&&t(3,p=p.sort((d,h)=>d[n].value>h[n].value?-1:1))}function W(n){typeof H!="number"||H!==n?(t(6,R="asc"),t(7,H=n)):R==="asc"?t(6,R="des"):R==="des"&&t(6,R="asc"),fe(n,R)}let O;async function G(n,f){var d,h;!_||(t(8,O=n),await J(),(d=i[n].input)==null||d.focus(),f&&((h=i[n].input)==null||h.select()))}function ce(n){if(!!_)switch(n.key){case"Escape":n.preventDefault(),t(8,O=!1);break;case"Enter":n.preventDefault(),t(8,O=!1)}}function de(){p.push(l.map((n,f)=>{const d=`${p.length}-${f}`;return t(4,i[d]={cell:null,input:null},i),{id:d,value:""}})),t(3,p),t(20,r),t(23,g)}async function _e(){for(let f=0;f<p.length;f++){const d=`${f}-${p[f].length}`;t(4,i[d]={cell:null,input:null},i),p[f].push({id:d,value:""})}const n=`h-${l.length}`;t(4,i[n]={cell:null,input:null},i),v.push({id:n,value:`Header ${v.length+1}`}),t(3,p),t(20,r),t(23,g),t(5,v),t(19,l),t(22,q),await J(),G(n,!0)}const be=(n,{click:f,dblclick:d})=>{let h;function A(C){h?(clearTimeout(h),h=void 0,d(C)):h=setTimeout(()=>{f(C),h=void 0},250)}return n.addEventListener("click",A),{destroy:()=>n.removeEventListener("click",A)}};function he(n,f){n[f].value=this.value,t(5,v),t(19,l),t(22,q)}function ye(n,f){I[n?"unshift":"push"](()=>{i[f].input=n,t(4,i)})}const pe=n=>W(n),ke=n=>G(n);function me(n,f){n[f].value=this.value,t(3,p),t(20,r),t(23,g)}function ge(n,f){I[n?"unshift":"push"](()=>{i[f].input=n,t(4,i)})}const we=n=>b(n),ve=n=>z(n),Ae=(n,f,d,h)=>w(h,n,f,d);function De(n,f){I[n?"unshift":"push"](()=>{i[f].cell=n,t(4,i)})}return s.$$set=n=>{"headers"in n&&t(19,l=n.headers),"values"in n&&t(20,r=n.values),"style"in n&&t(21,o=n.style),"editable"in n&&t(0,_=n.editable)},s.$$.update=()=>{s.$$.dirty[0]&4718592&&(ne(l,q)||(t(5,v=N(l)),t(22,q=l),F())),s.$$.dirty[0]&9437184&&(ne(r,g)||(t(3,p=y(r)),t(23,g=r),F())),s.$$.dirty[0]&8&&m("change",p.map(n=>n.map(({value:f})=>f))),s.$$.dirty[0]&2&&V(u,"edit"),s.$$.dirty[0]&4&&V(a,"select")},[_,u,a,p,i,v,R,H,O,c,b,w,z,W,G,ce,de,_e,be,l,r,o,q,g,he,ye,pe,ke,me,ge,we,ve,Ae,De]}class Ue extends se{constructor(e){super(),re(this,e,Oe,Re,ue,{headers:19,values:20,style:21,editable:0},null,[-1,-1])}}function Ze(s){let e,t;return e=new Ue({props:{values:s[1],headers:s[0],style:s[2],editable:s[3]==="dynamic"}}),e.$on("change",s[4]),{c(){Te(e.$$.fragment)},m(l,r){qe(e,l,r),t=!0},p(l,[r]){const o={};r&2&&(o.values=l[1]),r&1&&(o.headers=l[0]),r&4&&(o.style=l[2]),r&8&&(o.editable=l[3]==="dynamic"),e.$set(o)},i(l){t||(Le(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Ge(s,e,t){let{headers:l=[]}=e,{value:r=[["","",""]]}=e,{default_value:o=[["","",""]]}=e,{style:_=""}=e,{mode:m}=e;o&&(r=o);const u=ae();async function a({detail:i}){t(1,r=i),await J(),u("change",i)}return s.$$set=i=>{"headers"in i&&t(0,l=i.headers),"value"in i&&t(1,r=i.value),"default_value"in i&&t(5,o=i.default_value),"style"in i&&t(2,_=i.style),"mode"in i&&t(3,m=i.mode)},s.$$.update=()=>{s.$$.dirty&3&&(Array.isArray(r)?(t(1,r),t(0,l)):(Array.isArray(r.headers)&&t(0,l=r.headers),t(1,r=r.data.length===0?[Array(l.length).fill("")]:r.data)))},[l,r,_,m,a,o]}class Ie extends se{constructor(e){super(),re(this,e,Ge,Ze,ue,{headers:0,value:1,default_value:5,style:2,mode:3})}}var Pe=Ie;const Qe=["static","dynamic"];export{Pe as Component,Qe as modes};
