import{S as x,i as $,s as ee,e as C,f as te,m as j,Y as J,a as c,t as D,b as z,g as v,c as q,h as le,j as N,r as R,Z as Y,q as E,k as he,C as ne,_ as O,$ as F,a0 as B,E as ge,u as _e,v as me,x as pe,y as be,z as ye}from"./index.bbdd6a1e.js";function V(s,e,t){const l=s.slice();return l[35]=e[t],l[37]=t,l}function G(s,e,t){const l=s.slice();return l[38]=e[t].value,l[39]=e[t].id,l[40]=e,l[41]=t,l}function I(s,e,t){const l=s.slice();return l[38]=e[t].value,l[39]=e[t].id,l[42]=e,l[37]=t,l}function K(s,e){let t,l,n,i=e[38]+"",h,p,a,f,r,m,H,L,k,A;function b(...u){return e[16](e[38],e[42],e[37],...u)}function y(){return e[17](e[37])}return{key:s,first:null,c(){t=C("th"),l=C("div"),n=C("div"),h=te(i),p=j(),a=C("div"),f=J("svg"),r=J("path"),L=j(),c(n,"class","py-2 pl-2 flex-1 outline-none"),c(n,"contenteditable",e[0]),c(r,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),c(f,"width","1em"),c(f,"height","1em"),c(f,"class","fill-current text-[10px]"),c(f,"viewBox","0 0 9 7"),c(f,"fill","none"),c(f,"xmlns","http://www.w3.org/2000/svg"),c(a,"class",m="flex items-center justify-center p-2 cursor-pointer !visible leading-snug transform transition-all "+(e[7]!==e[37]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[7]===e[37]&&e[6]==="des"?"-scale-y-[1]":"")),D(a,"text-gray-200",e[7]!==e[37]),c(l,"class",H="flex outline-none focus-within:ring-1 ring-orange-500 focus-within:bg-orange-50 ring-inset "+(e[37]===0?"rounded-tl-lg":e[37]===e[5].length-1?"rounded-tr-lg":"")),c(t,"class","p-0 relative"),this.first=t},m(u,d){z(u,t,d),v(t,l),v(l,n),v(n,h),v(l,p),v(l,a),v(a,f),v(f,r),v(t,L),k||(A=[q(n,"input",b),q(a,"click",y)],k=!0)},p(u,d){e=u,d[0]&32&&i!==(i=e[38]+"")&&le(h,i),d[0]&1&&c(n,"contenteditable",e[0]),d[0]&224&&m!==(m="flex items-center justify-center p-2 cursor-pointer !visible leading-snug transform transition-all "+(e[7]!==e[37]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[7]===e[37]&&e[6]==="des"?"-scale-y-[1]":""))&&c(a,"class",m),d[0]&224&&D(a,"text-gray-200",e[7]!==e[37]),d[0]&32&&H!==(H="flex outline-none focus-within:ring-1 ring-orange-500 focus-within:bg-orange-50 ring-inset "+(e[37]===0?"rounded-tl-lg":e[37]===e[5].length-1?"rounded-tr-lg":""))&&c(l,"class",H)},d(u){u&&N(t),k=!1,R(A)}}}function P(s){let e,t=s[39],l,n;function i(){s[18].call(e,s[40],s[41])}const h=()=>s[19](e,t),p=()=>s[19](null,t);return{c(){e=C("input"),c(e,"class","outline-none absolute p-0 w-3/4"),c(e,"tabindex","-1")},m(a,f){z(a,e,f),O(e,s[38]),h(),l||(n=[q(e,"input",i),q(e,"blur",ve)],l=!0)},p(a,f){s=a,f[0]&8&&e.value!==s[38]&&O(e,s[38]),t!==s[39]&&(p(),t=s[39],h())},d(a){a&&N(e),p(),l=!1,R(n)}}}function Q(s,e){var L;let t,l,n,i,h=((L=e[38])!=null?L:"")+"",p,a,f,r,m=e[1]===e[39]&&P(e);function H(...k){return e[20](e[38],e[40],e[41],...k)}return{key:s,first:null,c(){t=C("td"),l=C("div"),m&&m.c(),n=j(),i=C("span"),p=te(h),c(i,"class","cursor-default w-full"),c(i,"tabindex","-1"),c(i,"role","button"),D(i,"opacity-0",e[1]===e[39]),c(l,"class",a="min-h-[3.3rem] px-5 py-3 border-[0.125rem] "+(e[2]===e[39]?"border-gray-600 dark:border-gray-200":"")),D(l,"border-transparent",e[2]!==e[39]),c(t,"class","p-2 outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg"),c(t,"contenteditable",e[0]),this.first=t},m(k,A){z(k,t,A),v(t,l),m&&m.m(l,null),v(l,n),v(l,i),v(i,p),f||(r=q(t,"input",H),f=!0)},p(k,A){var b;e=k,e[1]===e[39]?m?m.p(e,A):(m=P(e),m.c(),m.m(l,n)):m&&(m.d(1),m=null),A[0]&8&&h!==(h=((b=e[38])!=null?b:"")+"")&&le(p,h),A[0]&10&&D(i,"opacity-0",e[1]===e[39]),A[0]&12&&a!==(a="min-h-[3.3rem] px-5 py-3 border-[0.125rem] "+(e[2]===e[39]?"border-gray-600 dark:border-gray-200":""))&&c(l,"class",a),A[0]&12&&D(l,"border-transparent",e[2]!==e[39]),A[0]&1&&c(t,"contenteditable",e[0])},d(k){k&&N(t),m&&m.d(),f=!1,r()}}}function U(s,e){let t,l=[],n=new Map,i,h=e[35];const p=a=>a[39];for(let a=0;a<h.length;a+=1){let f=G(e,h,a),r=p(f);n.set(r,l[a]=Q(r,f))}return{key:s,first:null,c(){t=C("tr");for(let a=0;a<l.length;a+=1)l[a].c();i=j(),c(t,"class","group border-b last:border-none divide-x dark:divide-gray-800 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white"),this.first=t},m(a,f){z(a,t,f);for(let r=0;r<l.length;r+=1)l[r].m(t,null);v(t,i)},p(a,f){e=a,f[0]&31&&(h=e[35],l=Y(l,f,p,1,e,h,n,t,F,Q,i,G))},d(a){a&&N(t);for(let f=0;f<l.length;f+=1)l[f].d()}}}function W(s){let e,t,l,n,i,h;return{c(){e=C("div"),t=C("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"></path></svg>New row',l=j(),n=C("button"),n.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"></path></svg>
			New column`,c(t,"class","!flex-none gr-button group"),c(n,"class","!flex-none gr-button group"),c(e,"class","flex justify-end space-x-1 pt-2 text-gray-800")},m(p,a){z(p,e,a),v(e,t),v(e,l),v(e,n),i||(h=[q(t,"click",s[9]),q(n,"click",s[10])],i=!0)},p:E,d(p){p&&N(e),i=!1,R(h)}}}function we(s){let e,t,l,n,i=[],h=new Map,p,a,f=[],r=new Map,m,H,L=s[5];const k=u=>u[39];for(let u=0;u<L.length;u+=1){let d=I(s,L,u),M=k(d);h.set(M,i[u]=K(M,d))}let A=s[3];const b=u=>u[35];for(let u=0;u<A.length;u+=1){let d=V(s,A,u),M=b(d);r.set(M,f[u]=U(M,d))}let y=s[0]&&W(s);return{c(){e=C("div"),t=C("table"),l=C("thead"),n=C("tr");for(let u=0;u<i.length;u+=1)i[u].c();p=j(),a=C("tbody");for(let u=0;u<f.length;u+=1)f[u].c();m=j(),y&&y.c(),H=he(),c(n,"class","border-b divide-x dark:divide-gray-800 text-left"),c(l,"class","sticky top-0 left-0 right-0 bg-white shadow-sm z-10"),c(a,"class","overflow-scroll"),c(t,"class","table-auto font-mono w-full text-gray-900 text-sm"),c(e,"class","overflow-hidden rounded-lg relative border")},m(u,d){z(u,e,d),v(e,t),v(t,l),v(l,n);for(let M=0;M<i.length;M+=1)i[M].m(n,null);v(t,p),v(t,a);for(let M=0;M<f.length;M+=1)f[M].m(a,null);z(u,m,d),y&&y.m(u,d),z(u,H,d)},p(u,d){d[0]&481&&(L=u[5],i=Y(i,d,k,1,u,L,h,n,F,K,null,I)),d[0]&31&&(A=u[3],f=Y(f,d,b,1,u,A,r,a,F,U,null,V)),u[0]?y?y.p(u,d):(y=W(u),y.c(),y.m(H.parentNode,H)):y&&(y.d(1),y=null)},i:E,o:E,d(u){u&&N(e);for(let d=0;d<i.length;d+=1)i[d].d();for(let d=0;d<f.length;d+=1)f[d].d();u&&N(m),y&&y.d(u),u&&N(H)}}}function X(s,e){return e?s.every((t,l)=>Array.isArray(t)?t.every((n,i)=>{var h;return n===((h=e==null?void 0:e[l])==null?void 0:h[i])}):t===(e==null?void 0:e[l])):!1}const ve=({currentTarget:s})=>s.setAttribute("tabindex","-1");function ke(s,e,t){let{headers:l=[]}=e,{values:n=[[]]}=e,{style:i=""}=e,{editable:h=!0}=e;const p=ne();let a=!1,f=!1,r={};function m(o){return!o||o.length===0?n[0].map((g,_)=>{const w=`h-${_}`;return t(4,r[w]={cell:null,input:null},r),{id:w,value:JSON.stringify(_+1)}}):o.map((g,_)=>{const w=`h-${_}`;return t(4,r[w]={cell:null,input:null},r),{id:w,value:g}})}function H(o){return o.map((g,_)=>g.map((w,S)=>{const T=`${_}-${S}`;return t(4,r[T]={input:null,cell:null},r),{value:w,id:T}}))||[Array(l.length).fill(0).map((g,_)=>{const w=`0-${_}`;return t(4,r[w]={input:null,cell:null},r),{value:"",id:`0-${_}`}})]}let L=m(l),k;async function A(){}let b=[[]],y;async function u(o,g){var _,w,S;if(g==="edit"&&typeof o=="number"&&(await B(),(_=r[o].input)==null||_.focus()),g==="edit"&&typeof o=="boolean"&&typeof f=="number"){let T=(w=r[f])==null?void 0:w.cell;await B(),T==null||T.focus()}if(g==="select"&&typeof o=="number"){const{cell:T}=r[o];T==null||T.setAttribute("tabindex","0"),await B(),(S=r[o].cell)==null||S.focus()}}let d,M;function se(o,g){g==="asc"?t(3,b=b.sort((_,w)=>_[o].value<w[o].value?-1:1)):g==="des"&&t(3,b=b.sort((_,w)=>_[o].value>w[o].value?-1:1))}function Z(o){typeof M!="number"||M!==o?(t(6,d="asc"),t(7,M=o)):d==="asc"?t(6,d="des"):d==="des"&&t(6,d="asc"),se(o,d)}async function re(o,g){var _,w;!h||(await B(),(_=r[o].input)==null||_.focus(),g&&((w=r[o].input)==null||w.select()))}function ue(){b.push(l.map((o,g)=>{const _=`${b.length}-${g}`;return t(4,r[_]={cell:null,input:null},r),{id:_,value:""}})),t(3,b),t(12,n),t(15,y)}async function ie(){for(let g=0;g<b.length;g++){const _=`${g}-${b[g].length}`;t(4,r[_]={cell:null,input:null},r),b[g].push({id:_,value:""})}const o=`h-${l.length}`;t(4,r[o]={cell:null,input:null},r),L.push({id:o,value:`Header ${L.length+1}`}),t(3,b),t(12,n),t(15,y),t(5,L),t(11,l),t(14,k),await B(),re(o,!0)}const ae=(o,g,_,w)=>t(5,g[_].value=w.target.innerText,L),oe=o=>Z(o);function fe(o,g){o[g].value=this.value,t(3,b),t(12,n),t(15,y)}function de(o,g){ge[o?"unshift":"push"](()=>{r[g].input=o,t(4,r)})}const ce=(o,g,_,w)=>t(3,g[_].value=w.target.innerText,b);return s.$$set=o=>{"headers"in o&&t(11,l=o.headers),"values"in o&&t(12,n=o.values),"style"in o&&t(13,i=o.style),"editable"in o&&t(0,h=o.editable)},s.$$.update=()=>{s.$$.dirty[0]&18432&&(X(l,k)||(t(5,L=m(l)),t(14,k=l),A())),s.$$.dirty[0]&36864&&(X(n,y)||(t(3,b=H(n)),t(15,y=n),A())),s.$$.dirty[0]&8&&p("change",b.map(o=>o.map(({value:g})=>g))),s.$$.dirty[0]&2&&u(a,"edit"),s.$$.dirty[0]&4&&u(f,"select")},[h,a,f,b,r,L,d,M,Z,ue,ie,l,n,i,k,y,ae,oe,fe,de,ce]}class Ae extends x{constructor(e){super(),$(this,e,ke,we,ee,{headers:11,values:12,style:13,editable:0},null,[-1,-1])}}function Me(s){let e,t;return e=new Ae({props:{values:s[1],headers:s[0],style:s[2],editable:s[3]==="dynamic"}}),e.$on("change",s[4]),{c(){_e(e.$$.fragment)},m(l,n){me(e,l,n),t=!0},p(l,[n]){const i={};n&2&&(i.values=l[1]),n&1&&(i.headers=l[0]),n&4&&(i.style=l[2]),n&8&&(i.editable=l[3]==="dynamic"),e.$set(i)},i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){be(e.$$.fragment,l),t=!1},d(l){ye(e,l)}}}function Le(s,e,t){let{headers:l=[]}=e,{value:n=[["","",""]]}=e,{default_value:i=[["","",""]]}=e,{style:h=""}=e,{mode:p}=e;i&&(n=i);const a=ne();async function f({detail:r}){t(1,n=r),await B(),a("change",r)}return s.$$set=r=>{"headers"in r&&t(0,l=r.headers),"value"in r&&t(1,n=r.value),"default_value"in r&&t(5,i=r.default_value),"style"in r&&t(2,h=r.style),"mode"in r&&t(3,p=r.mode)},s.$$.update=()=>{s.$$.dirty&3&&(Array.isArray(n)?(t(1,n),t(0,l)):(Array.isArray(n.headers)&&t(0,l=n.headers),t(1,n=n.data.length===0?[Array(l.length).fill("")]:n.data)))},[l,n,h,p,f,i]}class Ce extends x{constructor(e){super(),$(this,e,Le,Me,ee,{headers:0,value:1,default_value:5,style:2,mode:3})}}var Te=Ce;const ze=["static","dynamic"];export{Te as Component,ze as modes};
