import{S as G,i as K,s as L,u as w,v as B,x as b,y as p,z as V,C as P,m as C,k as S,b as g,A as W,B as A,j as k,G as h,e as z,f as N,a as m,g as v,h as I,I as M,c as q,r as X,q as J,E as T,K as Y,H as Z,L as x,X as $}from"./index.bbdd6a1e.js";import{n as ee}from"./utils.49185b04.js";import{B as O,U as le}from"./BlockLabel.23dd9fdc.js";import{M as te}from"./ModifyUpload.71ccbaf3.js";import{B as Q}from"./Block.aea3d209.js";import{W as ne}from"./Image.svelte_svelte_type_style_lang.a1bd319d.js";import"./_commonjsHelpers.80d8c10d.js";const H=o=>{let e=["B","KB","MB","GB","PB"],t=0;for(;o>1024;)o/=1024,t++;let l=e[t];return o.toFixed(1)+" "+l},ae=o=>!0;var F="./assets/video.5c567403.svg";function oe(o){let e,t,l,a,i;e=new te({}),e.$on("clear",o[8]);function r(f,u){if(u&1&&(l=null),l==null&&(l=!!ae(f[0].name)),l)return ue;if(f[0].size)return re}let s=r(o,-1),n=s&&s(o);return{c(){w(e.$$.fragment),t=C(),n&&n.c(),a=S()},m(f,u){B(e,f,u),g(f,t,u),n&&n.m(f,u),g(f,a,u),i=!0},p(f,u){s===(s=r(f,u))&&n?n.p(f,u):(n&&n.d(1),n=s&&s(f),n&&(n.c(),n.m(a.parentNode,a)))},i(f){i||(b(e.$$.fragment,f),i=!0)},o(f){p(e.$$.fragment,f),i=!1},d(f){V(e,f),f&&k(t),n&&n.d(f),f&&k(a)}}}function ie(o){let e,t,l,a;const i=[se,fe],r=[];function s(n,f){return n[1]==="upload"?0:n[1]==="webcam"?1:-1}return~(e=s(o))&&(t=r[e]=i[e](o)),{c(){t&&t.c(),l=S()},m(n,f){~e&&r[e].m(n,f),g(n,l,f),a=!0},p(n,f){let u=e;e=s(n),e===u?~e&&r[e].p(n,f):(t&&(W(),p(r[u],1,1,()=>{r[u]=null}),A()),~e?(t=r[e],t?t.p(n,f):(t=r[e]=i[e](n),t.c()),b(t,1),t.m(l.parentNode,l)):t=null)},i(n){a||(b(t),a=!0)},o(n){p(t),a=!1},d(n){~e&&r[e].d(n),n&&k(l)}}}function re(o){let e,t=o[0].name+"",l,a,i,r=H(o[0].size)+"",s;return{c(){e=z("div"),l=N(t),a=C(),i=z("div"),s=N(r),m(e,"class","file-name text-4xl p-6 break-all"),m(i,"class","file-size text-2xl p-2")},m(n,f){g(n,e,f),v(e,l),g(n,a,f),g(n,i,f),v(i,s)},p(n,f){f&1&&t!==(t=n[0].name+"")&&I(l,t),f&1&&r!==(r=H(n[0].size)+"")&&I(s,r)},d(n){n&&k(e),n&&k(a),n&&k(i)}}}function ue(o){let e,t,l,a;return{c(){e=z("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),M(e.src,t=o[0].data)||m(e,"src",t)},m(i,r){g(i,e,r),l||(a=[q(e,"play",o[10]),q(e,"pause",o[11]),q(e,"ended",o[12])],l=!0)},p(i,r){r&1&&!M(e.src,t=i[0].data)&&m(e,"src",t)},d(i){i&&k(e),l=!1,X(a)}}}function fe(o){let e,t;return e=new ne({props:{mode:"video"}}),e.$on("capture",o[14]),{c(){w(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p:J,i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function se(o){let e,t,l;function a(r){o[13](r)}let i={filetype:"video/mp4,video/x-m4v,video/*",$$slots:{default:[ce]},$$scope:{ctx:o}};return o[6]!==void 0&&(i.dragging=o[6]),e=new le({props:i}),T.push(()=>Y(e,"dragging",a)),e.$on("load",o[7]),{c(){w(e.$$.fragment)},m(r,s){B(e,r,s),l=!0},p(r,s){const n={};s&65592&&(n.$$scope={dirty:s,ctx:r}),!t&&s&64&&(t=!0,n.dragging=r[6],Z(()=>t=!1)),e.$set(n)},i(r){l||(b(e.$$.fragment,r),l=!0)},o(r){p(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function ce(o){let e,t,l,a,i,r,s,n,f;return{c(){e=z("div"),t=N(o[3]),l=C(),a=z("span"),i=N("- "),r=N(o[4]),s=N(" -"),n=C(),f=N(o[5]),m(a,"class","text-gray-300"),m(e,"class","flex flex-col")},m(u,d){g(u,e,d),v(e,t),v(e,l),v(e,a),v(a,i),v(a,r),v(a,s),v(e,n),v(e,f)},p(u,d){d&8&&I(t,u[3]),d&16&&I(r,u[4]),d&32&&I(f,u[5])},d(u){u&&k(e)}}}function _e(o){let e,t,l,a,i,r;e=new O({props:{image:F,label:o[2]||"Video"}});const s=[ie,oe],n=[];function f(u,d){return u[0]===null?0:1}return l=f(o),a=n[l]=s[l](o),{c(){w(e.$$.fragment),t=C(),a.c(),i=S()},m(u,d){B(e,u,d),g(u,t,d),n[l].m(u,d),g(u,i,d),r=!0},p(u,d){const j={};d&4&&(j.label=u[2]||"Video"),e.$set(j);let y=l;l=f(u),l===y?n[l].p(u,d):(W(),p(n[y],1,1,()=>{n[y]=null}),A(),a=n[l],a?a.p(u,d):(a=n[l]=s[l](u),a.c()),b(a,1),a.m(i.parentNode,i))},i(u){r||(b(e.$$.fragment,u),b(a),r=!0)},o(u){p(e.$$.fragment,u),p(a),r=!1},d(u){V(e,u),u&&k(t),n[l].d(u),u&&k(i)}}}function de(o){let e,t;return e=new Q({props:{variant:o[0]===null&&o[1]==="upload"?"dashed":"solid",color:o[6]?"green":"grey",padding:!1,$$slots:{default:[_e]},$$scope:{ctx:o}}}),{c(){w(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p(l,[a]){const i={};a&3&&(i.variant=l[0]===null&&l[1]==="upload"?"dashed":"solid"),a&64&&(i.color=l[6]?"green":"grey"),a&65663&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function me(o,e,t){let{value:l=null}=e,{source:a}=e,{label:i=void 0}=e,{style:r=""}=e,{drop_text:s="Drop a video file"}=e,{or_text:n="or"}=e,{upload_text:f="click to upload"}=e;const u=P();function d({detail:_}){u("change",_),t(0,l=_)}function j({detail:_}){u("clear"),t(0,l=null)}let y=!1;function U(_){h.call(this,o,_)}function D(_){h.call(this,o,_)}function E(_){h.call(this,o,_)}function c(_){y=_,t(6,y)}const R=({detail:_})=>t(0,l=_);return o.$$set=_=>{"value"in _&&t(0,l=_.value),"source"in _&&t(1,a=_.source),"label"in _&&t(2,i=_.label),"style"in _&&t(9,r=_.style),"drop_text"in _&&t(3,s=_.drop_text),"or_text"in _&&t(4,n=_.or_text),"upload_text"in _&&t(5,f=_.upload_text)},[l,a,i,s,n,f,y,d,j,r,U,D,E,c,R]}class be extends G{constructor(e){super(),K(this,e,me,de,L,{value:0,source:1,label:2,style:9,drop_text:3,or_text:4,upload_text:5})}}function pe(o){let e,t,l,a;return{c(){e=z("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),M(e.src,t=o[0].data)||m(e,"src",t)},m(i,r){g(i,e,r),l||(a=[q(e,"play",o[3]),q(e,"pause",o[4]),q(e,"ended",o[5])],l=!0)},p(i,r){r&1&&!M(e.src,t=i[0].data)&&m(e,"src",t)},d(i){i&&k(e),l=!1,X(a)}}}function ge(o){let e,t,l;return{c(){e=z("div"),t=z("img"),M(t.src,l=F)||m(t,"src",l),m(t,"alt",""),m(t,"class","h-6 opacity-20"),m(e,"class","min-h-[16rem] flex justify-center items-center")},m(a,i){g(a,e,i),v(e,t)},p:J,d(a){a&&k(e)}}}function ke(o){let e,t,l,a;e=new O({props:{image:F,label:o[1]||"Video"}});function i(n,f){return n[0]===null?ge:pe}let r=i(o),s=r(o);return{c(){w(e.$$.fragment),t=C(),s.c(),l=S()},m(n,f){B(e,n,f),g(n,t,f),s.m(n,f),g(n,l,f),a=!0},p(n,f){const u={};f&2&&(u.label=n[1]||"Video"),e.$set(u),r===(r=i(n))&&s?s.p(n,f):(s.d(1),s=r(n),s&&(s.c(),s.m(l.parentNode,l)))},i(n){a||(b(e.$$.fragment,n),a=!0)},o(n){p(e.$$.fragment,n),a=!1},d(n){V(e,n),n&&k(t),s.d(n),n&&k(l)}}}function ve(o){let e,t;return e=new Q({props:{variant:"solid",color:"grey",padding:!1,$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){w(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p(l,[a]){const i={};a&131&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function he(o,e,t){let{value:l=null}=e,{label:a=void 0}=e,{style:i=""}=e;const r=P();function s(u){h.call(this,o,u)}function n(u){h.call(this,o,u)}function f(u){h.call(this,o,u)}return o.$$set=u=>{"value"in u&&t(0,l=u.value),"label"in u&&t(1,a=u.label),"style"in u&&t(2,i=u.style)},o.$$.update=()=>{o.$$.dirty&1&&l&&r("change",l)},[l,a,i,s,n,f]}class ye extends G{constructor(e){super(),K(this,e,he,ve,L,{value:0,label:1,style:2})}}function we(o){let e,t;return e=new be({props:{value:o[5],label:o[1],style:o[2],source:o[3],drop_text:o[6]("interface.drop_video"),or_text:o[6]("or"),upload_text:o[6]("interface.click_to_upload")}}),e.$on("change",o[9]),e.$on("change",o[10]),e.$on("clear",o[11]),e.$on("play",o[12]),e.$on("pause",o[13]),{c(){w(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p(l,a){const i={};a&32&&(i.value=l[5]),a&2&&(i.label=l[1]),a&4&&(i.style=l[2]),a&8&&(i.source=l[3]),a&64&&(i.drop_text=l[6]("interface.drop_video")),a&64&&(i.or_text=l[6]("or")),a&64&&(i.upload_text=l[6]("interface.click_to_upload")),e.$set(i)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Be(o){let e,t;return e=new ye({props:{value:o[5],label:o[1],style:o[2]}}),{c(){w(e.$$.fragment)},m(l,a){B(e,l,a),t=!0},p(l,a){const i={};a&32&&(i.value=l[5]),a&2&&(i.label=l[1]),a&4&&(i.style=l[2]),e.$set(i)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ve(o){let e,t,l,a;const i=[Be,we],r=[];function s(n,f){return n[4]==="static"?0:1}return e=s(o),t=r[e]=i[e](o),{c(){t.c(),l=S()},m(n,f){r[e].m(n,f),g(n,l,f),a=!0},p(n,[f]){let u=e;e=s(n),e===u?r[e].p(n,f):(W(),p(r[u],1,1,()=>{r[u]=null}),A(),t=r[e],t?t.p(n,f):(t=r[e]=i[e](n),t.c()),b(t,1),t.m(l.parentNode,l))},i(n){a||(b(t),a=!0)},o(n){p(t),a=!1},d(n){r[e].d(n),n&&k(l)}}}function ze(o,e,t){let l;x(o,$,c=>t(6,l=c));let{value:a=null}=e,{label:i}=e,{default_value:r}=e,{style:s=""}=e,{source:n}=e,{root:f}=e,{mode:u}=e;r&&(a=r);let d;const j=({detail:c})=>t(0,a=c);function y(c){h.call(this,o,c)}function U(c){h.call(this,o,c)}function D(c){h.call(this,o,c)}function E(c){h.call(this,o,c)}return o.$$set=c=>{"value"in c&&t(0,a=c.value),"label"in c&&t(1,i=c.label),"default_value"in c&&t(7,r=c.default_value),"style"in c&&t(2,s=c.style),"source"in c&&t(3,n=c.source),"root"in c&&t(8,f=c.root),"mode"in c&&t(4,u=c.mode)},o.$$.update=()=>{o.$$.dirty&257&&t(5,d=ee(a,f))},[a,i,s,n,u,d,l,r,f,j,y,U,D,E]}class Ne extends G{constructor(e){super(),K(this,e,ze,Ve,L,{value:0,label:1,default_value:7,style:2,source:3,root:8,mode:4})}}var De=Ne;const Ee=["static","dynamic"];export{De as Component,Ee as modes};
