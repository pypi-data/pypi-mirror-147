#!/usr/bin/env python3
# This file is placed in the Public Domain.


"rss command"


import os
import readline
import sys


from obj.dbs import Config


Config.name = "rssbot"
Config.workdir = "/var/lib/rssbot/"


from obj.dbs import Class, Config, Db, find, fntime, last, save
from obj.fnc import edit, format, register

from run.cbs import Callbacks
from run.cmd import Commands, dispatch
from run.shl import CLI, Shell
from run.shl import cmd as shcmd

from exc.dmn import cprint
from exc.scn import init, scan
from exc.wrp import wrap
from exc.utl import wait


from obj import Object, get, keys, update


import rssbot.cmd


class CLI(CLI):

    def raw(self, txt):
        cprint(txt)


def cmd(event):
    event.reply(",".join(sorted(Commands.cmd)))


Commands.add(cmd)


def main():
    Callbacks.add("command", dispatch)
    cli = CLI()
    return shcmd(cli, " ".join(sys.argv[1:]))


wrap(main)
