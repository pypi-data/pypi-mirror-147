
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>lenstronomy.Analysis package &#8212; lenstronomy 1.10.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lenstronomy.Conf package" href="lenstronomy.Conf.html" />
    <link rel="prev" title="lenstronomy package" href="lenstronomy.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.Conf.html" title="lenstronomy.Conf package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.html" title="lenstronomy package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.10.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" accesskey="U">lenstronomy package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">lenstronomy.Analysis package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="lenstronomy-analysis-package">
<h1>lenstronomy.Analysis package<a class="headerlink" href="#lenstronomy-analysis-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-lenstronomy.Analysis.kinematics_api">
<span id="lenstronomy-analysis-kinematics-api-module"></span><h2>lenstronomy.Analysis.kinematics_api module<a class="headerlink" href="#module-lenstronomy.Analysis.kinematics_api" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenstronomy.Analysis.kinematics_api.</span></span><span class="sig-name descname"><span class="pre">KinematicsAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_aperture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_seeing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anisotropy_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_model_kinematics_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">light_model_kinematics_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_observations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_numerics_galkin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytic_kinematics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Hernquist_approx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MGE_light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MGE_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_mge_light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_mge_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_kin_sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_psf_sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>this class contains routines to compute time delays, magnification ratios, line of sight velocity dispersions etc
for a given lens model</p>
<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI.galkin_settings">
<span class="sig-name descname"><span class="pre">galkin_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_eff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI.galkin_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI.galkin_settings" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>kwargs_lens_light</strong> – deflector light keyword argument list</p></li>
<li><p><strong>r_eff</strong> – half-light radius (optional)</p></li>
<li><p><strong>theta_E</strong> – Einstein radius (optional)</p></li>
<li><p><strong>gamma</strong> – local power-law slope at the Einstein radius (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Galkin() instance and mass and light profiles configured for the Galkin module</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI.kinematic_lens_profiles">
<span class="sig-name descname"><span class="pre">kinematic_lens_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MGE_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_kinematics_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_mge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytic_kinematics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI.kinematic_lens_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI.kinematic_lens_profiles" title="Permalink to this definition">¶</a></dt>
<dd><p>translates the lenstronomy lens and mass profiles into a (sub) set of profiles that are compatible with the
GalKin module to compute the kinematics thereof.
The requirement is that the
profiles are centered at (0, 0) and that for all profile types there exists a 3d de-projected analytical
representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model parameters</p></li>
<li><p><strong>MGE_fit</strong> – bool, if true performs the MGE for the mass distribution</p></li>
<li><p><strong>model_kinematics_bool</strong> – bool list of length of the lens model. Only takes a subset of all the models
as part of the kinematics computation (can be used to ignore substructure, shear etc that do not describe the
main deflector potential</p></li>
<li><p><strong>theta_E</strong> – (optional float) estimate of the Einstein radius. If present, does not numerically compute this
quantity in this routine numerically</p></li>
<li><p><strong>gamma</strong> – local power-law slope at the Einstein radius (optional)</p></li>
<li><p><strong>kwargs_mge</strong> – keyword arguments that go into the MGE decomposition routine</p></li>
<li><p><strong>analytic_kinematics</strong> – bool, if True, solves the Jeans equation analytically for the
power-law mass profile with Hernquist light profile</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mass_profile_list, keyword argument list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI.kinematic_light_profile">
<span class="sig-name descname"><span class="pre">kinematic_light_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_eff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MGE_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_kinematics_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Hernquist_approx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_mge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytic_kinematics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI.kinematic_light_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI.kinematic_light_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>setting up of the light profile to compute the kinematics in the GalKin module. The requirement is that the
profiles are centered at (0, 0) and that for all profile types there exists a 3d de-projected analytical
representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens_light</strong> – deflector light model keyword argument list</p></li>
<li><p><strong>r_eff</strong> – (optional float, else=None) Pre-calculated projected half-light radius of the deflector profile.
If not provided, numerical calculation is done in this routine if required.</p></li>
<li><p><strong>MGE_fit</strong> – boolean, if True performs a Multi-Gaussian expansion of the radial light profile and returns
this solution.</p></li>
<li><p><strong>model_kinematics_bool</strong> – list of booleans to indicate a subset of light profiles to be part of the physical
deflector light.</p></li>
<li><p><strong>Hernquist_approx</strong> – boolean, if True replaces the actual light profile(s) with a Hernquist model with
matched half-light radius.</p></li>
<li><p><strong>kwargs_mge</strong> – keyword arguments that go into the MGE decomposition routine</p></li>
<li><p><strong>analytic_kinematics</strong> – bool, if True, solves the Jeans equation analytically for the
power-law mass profile with Hernquist light profile and adjust the settings accordingly</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>deflector type list, keyword arguments list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI.kinematics_modeling_settings">
<span class="sig-name descname"><span class="pre">kinematics_modeling_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anisotropy_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_numerics_galkin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytic_kinematics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Hernquist_approx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MGE_light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MGE_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_mge_light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_mge_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_kin_sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_psf_sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI.kinematics_modeling_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI.kinematics_modeling_settings" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>anisotropy_model</strong> – type of stellar anisotropy model. See details in MamonLokasAnisotropy() class of lenstronomy.GalKin.anisotropy</p></li>
<li><p><strong>analytic_kinematics</strong> – boolean, if True, used the analytic JAM modeling for a power-law profile on top of a Hernquist light profile
ATTENTION: This may not be accurate for your specific problem!</p></li>
<li><p><strong>Hernquist_approx</strong> – bool, if True, uses a Hernquist light profile matched to the half light radius of the deflector light profile to compute the kinematics</p></li>
<li><p><strong>MGE_light</strong> – bool, if true performs the MGE for the light distribution</p></li>
<li><p><strong>MGE_mass</strong> – bool, if true performs the MGE for the mass distribution</p></li>
<li><p><strong>kwargs_numerics_galkin</strong> – numerical settings for the integrated line-of-sight velocity dispersion</p></li>
<li><p><strong>kwargs_mge_mass</strong> – keyword arguments that go into the MGE decomposition routine</p></li>
<li><p><strong>kwargs_mge_light</strong> – keyword arguments that go into the MGE decomposition routine</p></li>
<li><p><strong>sampling_number</strong> – number of spectral rendering on a single slit</p></li>
<li><p><strong>num_kin_sampling</strong> – number of kinematic renderings on a total IFU</p></li>
<li><p><strong>num_psf_sampling</strong> – number of PSF displacements for each kinematic rendering on the IFU</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI.transform_kappa_ext">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">transform_kappa_ext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma_v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI.transform_kappa_ext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI.transform_kappa_ext" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma_v</strong> – velocity dispersion estimate of the lensing deflector without considering external convergence</p></li>
<li><p><strong>kappa_ext</strong> – external convergence to be used in the mass-sheet degeneracy</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed velocity dispersion</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI.velocity_dispersion">
<span class="sig-name descname"><span class="pre">velocity_dispersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_anisotropy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_eff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI.velocity_dispersion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI.velocity_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>API for both, analytic and numerical JAM to compute the velocity dispersion [km/s]
This routine uses the galkin_setting() routine for the Galkin configurations (see there what options and input
is relevant.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword arguments</p></li>
<li><p><strong>kwargs_lens_light</strong> – lens light model keyword arguments</p></li>
<li><p><strong>kwargs_anisotropy</strong> – stellar anisotropy keyword arguments</p></li>
<li><p><strong>r_eff</strong> – projected half-light radius of the stellar light associated with the deflector galaxy, optional,
if set to None will be computed in this function with default settings that may not be accurate.</p></li>
<li><p><strong>theta_E</strong> – Einstein radius (optional)</p></li>
<li><p><strong>gamma</strong> – power-law slope (optional)</p></li>
<li><p><strong>kappa_ext</strong> – external convergence (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>velocity dispersion [km/s]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI.velocity_dispersion_analytical">
<span class="sig-name descname"><span class="pre">velocity_dispersion_analytical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta_E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_eff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_ani</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI.velocity_dispersion_analytical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI.velocity_dispersion_analytical" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the LOS velocity dispersion of the lens within a slit of size R_slit x dR_slit and seeing psf_fwhm.
The assumptions are a Hernquist light profile and the spherical power-law lens model at the first position and
an Osipkov and Merritt (‘OM’) stellar anisotropy distribution.</p>
<p>Further information can be found in the AnalyticKinematics() class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta_E</strong> – Einstein radius</p></li>
<li><p><strong>gamma</strong> – power-low slope of the mass profile (=2 corresponds to isothermal)</p></li>
<li><p><strong>r_ani</strong> – anisotropy radius in units of angles</p></li>
<li><p><strong>r_eff</strong> – projected half-light radius</p></li>
<li><p><strong>kappa_ext</strong> – external convergence not accounted in the lens models</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>velocity dispersion in units [km/s]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.kinematics_api.KinematicsAPI.velocity_dispersion_map">
<span class="sig-name descname"><span class="pre">velocity_dispersion_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_anisotropy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_eff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/kinematics_api.html#KinematicsAPI.velocity_dispersion_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI.velocity_dispersion_map" title="Permalink to this definition">¶</a></dt>
<dd><p>API for both, analytic and numerical JAM to compute the velocity dispersion map with IFU data [km/s]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword arguments</p></li>
<li><p><strong>kwargs_lens_light</strong> – lens light model keyword arguments</p></li>
<li><p><strong>kwargs_anisotropy</strong> – stellar anisotropy keyword arguments</p></li>
<li><p><strong>r_eff</strong> – projected half-light radius of the stellar light associated with the deflector galaxy, optional,
if set to None will be computed in this function with default settings that may not be accurate.</p></li>
<li><p><strong>theta_E</strong> – circularized Einstein radius, optional, if not provided will either be computed in this
function with default settings or not required</p></li>
<li><p><strong>gamma</strong> – power-law slope at the Einstein radius, optional</p></li>
<li><p><strong>kappa_ext</strong> – external convergence</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>velocity dispersion [km/s]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-lenstronomy.Analysis.lens_profile">
<span id="lenstronomy-analysis-lens-profile-module"></span><h2>lenstronomy.Analysis.lens_profile module<a class="headerlink" href="#module-lenstronomy.Analysis.lens_profile" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenstronomy.Analysis.lens_profile.</span></span><span class="sig-name descname"><span class="pre">LensProfileAnalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lens_model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class with analysis routines to compute derived properties of the lens model</p>
<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis.convergence_peak">
<span class="sig-name descname"><span class="pre">convergence_peak</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x_init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y_init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis.convergence_peak"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis.convergence_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the maximal convergence position on a grid and returns its coordinate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>model_bool_list</strong> – bool list (optional) to include certain models or not</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>center_x, center_y</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis.effective_einstein_radius">
<span class="sig-name descname"><span class="pre">effective_einstein_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis.effective_einstein_radius"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis.effective_einstein_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the radius with mean convergence=1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – list of lens model keyword arguments</p></li>
<li><p><strong>center_x</strong> – position of the center (if not set, is attempting to find it from the parameters kwargs_lens)</p></li>
<li><p><strong>center_y</strong> – position of the center (if not set, is attempting to find it from the parameters kwargs_lens)</p></li>
<li><p><strong>model_bool_list</strong> – list of booleans indicating the addition (=True) of a model component in computing the
Einstein radius</p></li>
<li><p><strong>grid_num</strong> – integer, number of grid points to numerically evaluate the convergence and estimate the
Einstein radius</p></li>
<li><p><strong>grid_spacing</strong> – spacing in angular units of the grid</p></li>
<li><p><strong>get_precision</strong> – If <cite>True</cite>, return the precision of estimated Einstein radius</p></li>
<li><p><strong>verbose</strong> – boolean, if True prints warning if indication of insufficient result</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>estimate of the Einstein radius</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis.local_lensing_effect">
<span class="sig-name descname"><span class="pre">local_lensing_effect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_list_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis.local_lensing_effect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis.local_lensing_effect" title="Permalink to this definition">¶</a></dt>
<dd><p>computes deflection, shear and convergence at (ra_pos,dec_pos) for those part of the lens model not included
in the main deflector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>ra_pos</strong> – RA position where to compute the external effect</p></li>
<li><p><strong>dec_pos</strong> – DEC position where to compute the external effect</p></li>
<li><p><strong>model_list_bool</strong> – boolean list indicating which models effect to be added to the estimate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>alpha_x, alpha_y, kappa, shear1, shear2</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis.mass_fraction_within_radius">
<span class="sig-name descname"><span class="pre">mass_fraction_within_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numPix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis.mass_fraction_within_radius"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis.mass_fraction_within_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the mean convergence of all the different lens model components within a spherical aperture</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>center_x</strong> – center of the aperture</p></li>
<li><p><strong>center_y</strong> – center of the aperture</p></li>
<li><p><strong>theta_E</strong> – radius of aperture</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of average convergences for all the model components</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis.mst_invariant_differential">
<span class="sig-name descname"><span class="pre">mst_invariant_differential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_list_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis.mst_invariant_differential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis.mst_invariant_differential" title="Permalink to this definition">¶</a></dt>
<dd><p>Average of the radial stretch differential in radial direction, divided by the radial stretch factor.</p>
<div class="math notranslate nohighlight">
\[\xi = \frac{\partial \lambda_{\rm rad}}{\partial r} \frac{1}{\lambda_{\rm rad}}\]</div>
<p>This quantity is invariant under the MST.
The specific definition is provided by Birrer 2021. Equivalent (proportional) definitions are provided by e.g.
Kochanek 2020, Sonnenfeld 2018.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>radius</strong> – radius from the center where to compute the MST invariant differential</p></li>
<li><p><strong>center_x</strong> – center position</p></li>
<li><p><strong>center_y</strong> – center position</p></li>
<li><p><strong>model_list_bool</strong> – indicate which part of the model to consider</p></li>
<li><p><strong>num_points</strong> – number of estimates around the radius</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>xi</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis.multi_gaussian_lens">
<span class="sig-name descname"><span class="pre">multi_gaussian_lens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis.multi_gaussian_lens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis.multi_gaussian_lens" title="Permalink to this definition">¶</a></dt>
<dd><p>multi-gaussian lens model in convergence space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – </p></li>
<li><p><strong>n_comp</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis.profile_slope">
<span class="sig-name descname"><span class="pre">profile_slope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_list_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis.profile_slope"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis.profile_slope" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the logarithmic power-law slope of a profile. ATTENTION: this is not an observable!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>radius</strong> – radius from the center where to compute the logarithmic slope (angular units</p></li>
<li><p><strong>center_x</strong> – center of profile from where to compute the slope</p></li>
<li><p><strong>center_y</strong> – center of profile from where to compute the slope</p></li>
<li><p><strong>model_list_bool</strong> – bool list, indicate which part of the model to consider</p></li>
<li><p><strong>num_points</strong> – number of estimates around the Einstein radius</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>logarithmic power-law slope</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.lens_profile.LensProfileAnalysis.radial_lens_profile">
<span class="sig-name descname"><span class="pre">radial_lens_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/lens_profile.html#LensProfileAnalysis.radial_lens_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.lens_profile.LensProfileAnalysis.radial_lens_profile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r_list</strong> – list of radii to compute the spherically averaged lens light profile</p></li>
<li><p><strong>center_x</strong> – center of the profile</p></li>
<li><p><strong>center_y</strong> – center of the profile</p></li>
<li><p><strong>kwargs_lens</strong> – lens parameter keyword argument list</p></li>
<li><p><strong>model_bool_list</strong> – bool list or None, indicating which profiles to sum over</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flux amplitudes at r_list radii azimuthally averaged</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-lenstronomy.Analysis.light2mass">
<span id="lenstronomy-analysis-light2mass-module"></span><h2>lenstronomy.Analysis.light2mass module<a class="headerlink" href="#module-lenstronomy.Analysis.light2mass" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="lenstronomy.Analysis.light2mass.light2mass_interpol">
<span class="sig-prename descclassname"><span class="pre">lenstronomy.Analysis.light2mass.</span></span><span class="sig-name descname"><span class="pre">light2mass_interpol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lens_light_model_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numPix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltaPix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgrid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/light2mass.html#light2mass_interpol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.light2mass.light2mass_interpol" title="Permalink to this definition">¶</a></dt>
<dd><p>takes a lens light model and turns it numerically in a lens model
(with all lensmodel quantities computed on a grid). Then provides an interpolated grid for the quantities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens_light</strong> – lens light keyword argument list</p></li>
<li><p><strong>numPix</strong> – number of pixels per axis for the return interpolation</p></li>
<li><p><strong>deltaPix</strong> – interpolation/pixel size</p></li>
<li><p><strong>center_x</strong> – center of the grid</p></li>
<li><p><strong>center_y</strong> – center of the grid</p></li>
<li><p><strong>subgrid_res</strong> – subgrid for the numerical integrals</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>keyword arguments for ‘INTERPOL’ lens model</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-lenstronomy.Analysis.light_profile">
<span id="lenstronomy-analysis-light-profile-module"></span><h2>lenstronomy.Analysis.light_profile module<a class="headerlink" href="#module-lenstronomy.Analysis.light_profile" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="lenstronomy.Analysis.light_profile.LightProfileAnalysis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenstronomy.Analysis.light_profile.</span></span><span class="sig-name descname"><span class="pre">LightProfileAnalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">light_model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/light_profile.html#LightProfileAnalysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.light_profile.LightProfileAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class with analysis routines to compute derived properties of the lens model</p>
<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.light_profile.LightProfileAnalysis.ellipticity">
<span class="sig-name descname"><span class="pre">ellipticity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/light_profile.html#LightProfileAnalysis.ellipticity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.light_profile.LightProfileAnalysis.ellipticity" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure that the window covers all the light, otherwise the moments may give a too low answers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_light</strong> – keyword argument list of profiles</p></li>
<li><p><strong>center_x</strong> – center of profile, if None takes it from the first profile in kwargs_light</p></li>
<li><p><strong>center_y</strong> – center of profile, if None takes it from the first profile in kwargs_light</p></li>
<li><p><strong>model_bool_list</strong> – list of booleans to select subsets of the profile</p></li>
<li><p><strong>grid_spacing</strong> – grid spacing over which the moments are computed</p></li>
<li><p><strong>grid_num</strong> – grid size over which the moments are computed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>eccentricities e1, e2</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.light_profile.LightProfileAnalysis.flux_components">
<span class="sig-name descname"><span class="pre">flux_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/light_profile.html#LightProfileAnalysis.flux_components"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.light_profile.LightProfileAnalysis.flux_components" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the total flux in each component of the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_light</strong> – </p></li>
<li><p><strong>grid_num</strong> – </p></li>
<li><p><strong>grid_spacing</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.light_profile.LightProfileAnalysis.half_light_radius">
<span class="sig-name descname"><span class="pre">half_light_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/light_profile.html#LightProfileAnalysis.half_light_radius"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.light_profile.LightProfileAnalysis.half_light_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>computes numerically the half-light-radius of the deflector light and the total photon flux</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_light</strong> – keyword argument list of profiles</p></li>
<li><p><strong>center_x</strong> – center of profile, if None takes it from the first profile in kwargs_light</p></li>
<li><p><strong>center_y</strong> – center of profile, if None takes it from the first profile in kwargs_light</p></li>
<li><p><strong>model_bool_list</strong> – list of booleans to select subsets of the profile</p></li>
<li><p><strong>grid_spacing</strong> – grid spacing over which the moments are computed</p></li>
<li><p><strong>grid_num</strong> – grid size over which the moments are computed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>half-light radius</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.light_profile.LightProfileAnalysis.multi_gaussian_decomposition">
<span class="sig-name descname"><span class="pre">multi_gaussian_decomposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/light_profile.html#LightProfileAnalysis.multi_gaussian_decomposition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.light_profile.LightProfileAnalysis.multi_gaussian_decomposition" title="Permalink to this definition">¶</a></dt>
<dd><p>multi-gaussian decomposition of the lens light profile (in 1-dimension)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_light</strong> – keyword argument list of profiles</p></li>
<li><p><strong>center_x</strong> – center of profile, if None takes it from the first profile in kwargs_light</p></li>
<li><p><strong>center_y</strong> – center of profile, if None takes it from the first profile in kwargs_light</p></li>
<li><p><strong>model_bool_list</strong> – list of booleans to select subsets of the profile</p></li>
<li><p><strong>grid_spacing</strong> – grid spacing over which the moments are computed for the half-light radius</p></li>
<li><p><strong>grid_num</strong> – grid size over which the moments are computed</p></li>
<li><p><strong>n_comp</strong> – maximum number of Gaussian’s in the MGE</p></li>
<li><p><strong>r_h</strong> – float, half light radius to be used for MGE (optional, otherwise using a numerical grid)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>amplitudes, sigmas, center_x, center_y</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.light_profile.LightProfileAnalysis.multi_gaussian_decomposition_ellipse">
<span class="sig-name descname"><span class="pre">multi_gaussian_decomposition_ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/light_profile.html#LightProfileAnalysis.multi_gaussian_decomposition_ellipse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.light_profile.LightProfileAnalysis.multi_gaussian_decomposition_ellipse" title="Permalink to this definition">¶</a></dt>
<dd><p>MGE with ellipticity estimate.
Attention: numerical grid settings for ellipticity estimate and radial MGE may not necessarily be the same!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_light</strong> – keyword argument list of profiles</p></li>
<li><p><strong>center_x</strong> – center of profile, if None takes it from the first profile in kwargs_light</p></li>
<li><p><strong>center_y</strong> – center of profile, if None takes it from the first profile in kwargs_light</p></li>
<li><p><strong>model_bool_list</strong> – list of booleans to select subsets of the profile</p></li>
<li><p><strong>grid_spacing</strong> – grid spacing over which the moments are computed</p></li>
<li><p><strong>grid_num</strong> – grid size over which the moments are computed</p></li>
<li><p><strong>n_comp</strong> – maximum number of Gaussians in the MGE</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>keyword arguments of the elliptical multi Gaussian profile in lenstronomy conventions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.light_profile.LightProfileAnalysis.radial_light_profile">
<span class="sig-name descname"><span class="pre">radial_light_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_bool_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/light_profile.html#LightProfileAnalysis.radial_light_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.light_profile.LightProfileAnalysis.radial_light_profile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r_list</strong> – list of radii to compute the spherically averaged lens light profile</p></li>
<li><p><strong>center_x</strong> – center of the profile</p></li>
<li><p><strong>center_y</strong> – center of the profile</p></li>
<li><p><strong>kwargs_light</strong> – lens light parameter keyword argument list</p></li>
<li><p><strong>model_bool_list</strong> – bool list or None, indicating which profiles to sum over</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flux amplitudes at r_list radii spherically averaged</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-lenstronomy.Analysis.td_cosmography">
<span id="lenstronomy-analysis-td-cosmography-module"></span><h2>lenstronomy.Analysis.td_cosmography module<a class="headerlink" href="#module-lenstronomy.Analysis.td_cosmography" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="lenstronomy.Analysis.td_cosmography.TDCosmography">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lenstronomy.Analysis.td_cosmography.</span></span><span class="sig-name descname"><span class="pre">TDCosmography</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo_fiducial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_model_kinematics_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">light_model_kinematics_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_seeing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_aperture</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anisotropy_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_kin_api</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/td_cosmography.html#TDCosmography"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.td_cosmography.TDCosmography" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lenstronomy.Analysis.kinematics_api.KinematicsAPI" title="lenstronomy.Analysis.kinematics_api.KinematicsAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">lenstronomy.Analysis.kinematics_api.KinematicsAPI</span></code></a></p>
<p>class equipped to perform a cosmographic analysis from a lens model with added measurements of time delays and
kinematics.
This class does not require any cosmological knowledge and can return angular diameter distance estimates
self-consistently integrating the kinematics routines and time delay estimates in the lens modeling.
This description follows Birrer et al. 2016, 2019.</p>
<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.td_cosmography.TDCosmography.ddt_dd_from_time_delay_and_kinematics">
<span class="sig-name descname"><span class="pre">ddt_dd_from_time_delay_and_kinematics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_fermat_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_measured</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_v_measured</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/td_cosmography.html#TDCosmography.ddt_dd_from_time_delay_and_kinematics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.td_cosmography.TDCosmography.ddt_dd_from_time_delay_and_kinematics" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d_fermat_model</strong> – relative Fermat potential in units arcsec^2</p></li>
<li><p><strong>dt_measured</strong> – measured relative time delay [days]</p></li>
<li><p><strong>sigma_v_measured</strong> – 1-sigma Gaussian uncertainty in the measured velocity dispersion</p></li>
<li><p><strong>J</strong> – modeled dimensionless kinematic estimate</p></li>
<li><p><strong>kappa_s</strong> – LOS convergence from observer to source</p></li>
<li><p><strong>kappa_ds</strong> – LOS convergence from deflector to source</p></li>
<li><p><strong>kappa_d</strong> – LOS convergence from observer to deflector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>D_dt, D_d</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.td_cosmography.TDCosmography.ddt_from_time_delay">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ddt_from_time_delay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_fermat_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_measured</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/td_cosmography.html#TDCosmography.ddt_from_time_delay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.td_cosmography.TDCosmography.ddt_from_time_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Time-delay distance in units of Mpc from the modeled Fermat potential and measured time delay from an image pair.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d_fermat_model</strong> – relative Fermat potential between two images from the same source in units arcsec^2</p></li>
<li><p><strong>dt_measured</strong> – measured time delay between the same image pair in units of days</p></li>
<li><p><strong>kappa_s</strong> – external convergence from observer to source</p></li>
<li><p><strong>kappa_ds</strong> – external convergence from lens to source</p></li>
<li><p><strong>kappa_d</strong> – external convergence form observer to lens</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>D_dt, time-delay distance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.td_cosmography.TDCosmography.ds_dds_from_kinematics">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ds_dds_from_kinematics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma_v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">J</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/td_cosmography.html#TDCosmography.ds_dds_from_kinematics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.td_cosmography.TDCosmography.ds_dds_from_kinematics" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the estimate of the ratio of angular diameter distances Ds/Dds from the kinematic estimate of the lens
and the measured dispersion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma_v</strong> – velocity dispersion [km/s]</p></li>
<li><p><strong>J</strong> – dimensionless kinematic constraint (see Birrer et al. 2016, 2019)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Ds/Dds</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.td_cosmography.TDCosmography.fermat_potential">
<span class="sig-name descname"><span class="pre">fermat_potential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_ps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_ps_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/td_cosmography.html#TDCosmography.fermat_potential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.td_cosmography.TDCosmography.fermat_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>Fermat potential (negative sign means earlier arrival time)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword argument list</p></li>
<li><p><strong>kwargs_ps</strong> – point source keyword argument list</p></li>
<li><p><strong>original_ps_position</strong> – boolean (only applies when first point source model is of type ‘LENSED_POSITION’),
uses the image positions in the model parameters and does not re-compute images (which might be differently ordered) 
in case of the lens equation solver</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Fermat potential of all the image positions in the first point source list entry</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.td_cosmography.TDCosmography.time_delays">
<span class="sig-name descname"><span class="pre">time_delays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_ps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kappa_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_ps_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/td_cosmography.html#TDCosmography.time_delays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.td_cosmography.TDCosmography.time_delays" title="Permalink to this definition">¶</a></dt>
<dd><p>predicts the time delays of the image positions given the fiducial cosmology relative to a straight line
without lensing.
Negative values correspond to images arriving earlier, and positive signs correspond to images arriving later.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model parameters</p></li>
<li><p><strong>kwargs_ps</strong> – point source parameters</p></li>
<li><p><strong>kappa_ext</strong> – external convergence (optional)</p></li>
<li><p><strong>original_ps_position</strong> – boolean (only applies when first point source model is of type ‘LENSED_POSITION’),
uses the image positions in the model parameters and does not re-compute images (which might be differently ordered) 
in case of the lens equation solver</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>time delays at image positions for the fixed cosmology in units of days</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.td_cosmography.TDCosmography.velocity_dispersion_dimension_less">
<span class="sig-name descname"><span class="pre">velocity_dispersion_dimension_less</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_anisotropy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_eff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/td_cosmography.html#TDCosmography.velocity_dispersion_dimension_less"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.td_cosmography.TDCosmography.velocity_dispersion_dimension_less" title="Permalink to this definition">¶</a></dt>
<dd><p>sigma**2 = Dd/Dds * c**2 * J(kwargs_lens, kwargs_light, anisotropy)
(Equation 4.11 in Birrer et al. 2016 or Equation 6 in Birrer et al. 2019) J() is a dimensionless and
cosmological independent quantity only depending on angular units. This function returns J given the lens
and light parameters and the anisotropy choice without an external mass sheet correction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword arguments</p></li>
<li><p><strong>kwargs_lens_light</strong> – lens light model keyword arguments</p></li>
<li><p><strong>kwargs_anisotropy</strong> – stellar anisotropy keyword arguments</p></li>
<li><p><strong>r_eff</strong> – projected half-light radius of the stellar light associated with the deflector galaxy, optional,
if set to None will be computed in this function with default settings that may not be accurate.</p></li>
<li><p><strong>theta_E</strong> – pre-computed Einstein radius (optional)</p></li>
<li><p><strong>gamma</strong> – pre-computed power-law slope of mass profile</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dimensionless velocity dispersion (see e.g. Birrer et al. 2016, 2019)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lenstronomy.Analysis.td_cosmography.TDCosmography.velocity_dispersion_map_dimension_less">
<span class="sig-name descname"><span class="pre">velocity_dispersion_map_dimension_less</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_lens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_lens_light</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_anisotropy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_eff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Analysis/td_cosmography.html#TDCosmography.velocity_dispersion_map_dimension_less"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenstronomy.Analysis.td_cosmography.TDCosmography.velocity_dispersion_map_dimension_less" title="Permalink to this definition">¶</a></dt>
<dd><p>sigma**2 = Dd/Dds * c**2 * J(kwargs_lens, kwargs_light, anisotropy)
(Equation 4.11 in Birrer et al. 2016 or Equation 6 in Birrer et al. 2019) J() is a dimensionless and
cosmological independent quantity only depending on angular units. This function returns J given the lens
and light parameters and the anisotropy choice without an external mass sheet correction.
This routine computes the IFU map of the kinematic quantities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs_lens</strong> – lens model keyword arguments</p></li>
<li><p><strong>kwargs_lens_light</strong> – lens light model keyword arguments</p></li>
<li><p><strong>kwargs_anisotropy</strong> – stellar anisotropy keyword arguments</p></li>
<li><p><strong>r_eff</strong> – projected half-light radius of the stellar light associated with the deflector galaxy, optional,
if set to None will be computed in this function with default settings that may not be accurate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dimensionless velocity dispersion (see e.g. Birrer et al. 2016, 2019)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-lenstronomy.Analysis">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lenstronomy.Analysis" title="Permalink to this headline">¶</a></h2>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lenstronomy.Analysis package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Analysis.kinematics_api">lenstronomy.Analysis.kinematics_api module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Analysis.lens_profile">lenstronomy.Analysis.lens_profile module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Analysis.light2mass">lenstronomy.Analysis.light2mass module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Analysis.light_profile">lenstronomy.Analysis.light_profile module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Analysis.td_cosmography">lenstronomy.Analysis.td_cosmography module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Analysis">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lenstronomy.html"
                        title="previous chapter">lenstronomy package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lenstronomy.Conf.html"
                        title="next chapter">lenstronomy.Conf package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/lenstronomy.Analysis.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.Conf.html" title="lenstronomy.Conf package"
             >next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.html" title="lenstronomy package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 1.10.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" >lenstronomy package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">lenstronomy.Analysis package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Simon Birrer and contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.1.
    </div>
  </body>
</html>